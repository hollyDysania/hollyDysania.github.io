<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[javascriptÁöÑÊ®°ÂùóÂåñ]]></title>
    <url>%2F2018%2F05%2F24%2Fjavascript%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éÁé∞Âú®ÁöÑÁΩëÈ°µÂèØ‰ª•Áúã‰ΩúÊòØ‰∏Ä‰∏™ÂäüËÉΩ‰∏∞ÂØåÁöÑÂ∫îÁî®ÔºåÈúÄË¶ÅÂØπ‰ª£Á†ÅËøõË°åÂàÜÂâ≤„ÄÅ‰ΩúÁî®ÂüüÈöîÁ¶ª„ÄÅÊ®°Âùó‰πãÈó¥ÁöÑ‰æùËµñÁÆ°ÁêÜ‰ª•ÂèäÂèëÂ∏ÉÂà∞Áîü‰∫ßÁéØÂ¢ÉÊó∂ÁöÑËá™Âä®ÂåñÊâìÂåÖ‰∏éÂ§ÑÁêÜÁ≠â„ÄÇ ES6Ê®°ÂùóÔºàModuleÔºâÊ®°ÂùóÂäüËÉΩ‰∏ªË¶ÅÁî±‰∏§‰∏™ÂëΩ‰ª§ÊûÑÊàêÔºöexportÂíåimport„ÄÇexportÂëΩ‰ª§Áî®‰∫éËßÑÂÆöÊ®°ÂùóÁöÑÂØπÂ§ñÊé•Âè£ÔºåimportÂëΩ‰ª§Áî®‰∫éËæìÂÖ•ÂÖ∂‰ªñÊ®°ÂùóÊèê‰æõÁöÑÂäüËÉΩ„ÄÇ export ‰∏é import12345678910111213141516171819202122232425262728// test.jsexport const testName = 'Cindy'export const testAge = '15'// export ÂØπÂ§ñËæìÂá∫‰∏§‰∏™ÂèòÈáè---------------------------------// ‰πüÂèØ‰ª•ËøôÊ†∑ÂÜôconst testName = 'Cindy'const testAge = '15'export &#123;testName, testAge&#125;// Á≠â‰ª∑‰∫é‰∏äÈù¢ÈÇ£ÁßçÂÜôÊ≥ïÔºå‰∏çËøáËøôÊ†∑Êõ¥Ê∏ÖÊô∞ÔºåÂ∫ïÈÉ®ÂèØ‰ª•ÁúãÂá∫ÂØπÂ§ñËæìÂá∫‰∫ÜÂì™‰∫õÂèòÈáè---------------------------------// ‰πüÂèØ‰ª•ËæìÂá∫ÂáΩÊï∞ÂíåÁ±ªÔºàclassÔºâexport function fn(x, y) &#123; return x + y&#125;// ÂØπÂ§ñËæìÂá∫‰∏Ä‰∏™ÂáΩÊï∞ fn===================================// ‰∏éÂÖ∂ÂØπÂ∫îÁöÑÂä†ËΩΩËøô‰∏™Ê®°Âùó import (importÊòØÂè™ËØªÁöÑ)// testImport.jsimport &#123;testName, testAgeÔºåfn&#125; from './test.js'-----------------------------------// Â¶ÇÊûúÂä†ËΩΩÊó∂ÊÉ≥Êç¢‰∏Ä‰∏™ÂèòÈáèÂêç ÂèØ‰ª•Áî®asÂÖ≥ÈîÆÂ≠óimport &#123;testName as firstName, testAge as egg&#125; from './test.js'-----------------------------------// ÂèØ‰ª•‰ΩøÁî® * ÊåáÂÆö‰∏Ä‰∏™ÂØπË±°ÔºåÊï¥‰ΩìÂä†ËΩΩimport * as test from './test.js'console.log(test.testName)test.fn(1, 2) export ‰∏çËÉΩÁõ¥Êé• export ÂÖ∑‰ΩìÁöÑÊï∞ÊçÆÊàñÂèòÈáè ÔºåÂèòÈáèÂ£∞ÊòéËØ≠Âè•ÊàñËÄÖ{ÂåÖË£πÁöÑÊï∞ÊçÆÊàñÂèòÈáè} exportËæìÂá∫ÁöÑÂÜÖÂÆπimportÊó∂Ë¶ÅÂØπÂ∫îÂêçÂ≠óÔºåÊàñËÄÖÁî®asÊîπÂèòÂêçÂ≠ó export default ‰∏é import12345678910// default.jsexport default function () &#123; console.log('foo');&#125;// ÈªòËÆ§ËæìÂá∫‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞// importÂëΩ‰ª§ÂèØ‰ª•‰∏∫ËØ•ÂáΩÊï∞ÊåáÂÆö‰ªªÊÑèÂêçÂ≠óimport toName from './default'toName() // 'foo'// Âç≥‰æø‰∏çÊòØÂåøÂêçÂáΩÊï∞ importÊó∂‰πüÂèØ‰ª•ÊåáÂÆö‰ªªÊÑèÂêçÂ≠ó Âõ†‰∏∫export defaultÂè™ËÉΩ‰ΩøÁî®‰∏ÄÊ¨° ËæìÂá∫‰∏Ä‰∏™Âè´ÂÅödefaultÁöÑÂèòÈáèÊàñÊñπÊ≥ï// export default ÂêéÈù¢‰∏çËÉΩË∑üÂèòÈáèÂ£∞ÊòéËØ≠Âè• export default Âè™ËÉΩ‰ΩøÁî®‰∏ÄÊ¨°,ÈªòËÆ§ËæìÂá∫‰∏Ä‰∏™Âè´ÂÅödefaultÁöÑÂèòÈáèÊàñÊñπÊ≥ïÔºåÊâÄ‰ª•importÊó∂ÂèØ‰ª•Âèñ‰ªªÊÑèÂêçÂ≠ó export default ÂêéÈù¢‰∏çËÉΩË∑üÂèòÈáèÂ£∞ÊòéËØ≠Âè•ÔºåÂè™ËÉΩÊòØÂèòÈáèÂêç ÂÖ∂‰ªñÁöÑÊ®°ÂùóÂåñÊñπÊ°à CommonJSÂü∫‰∫éNode.js Ôºàrequire(), module.exportsÔºâ AMD Áî±RequireJSÊèêÂá∫ÁöÑÔºåCMD Áî± SeaJSÊèêÂá∫ÁöÑ,‰∏§ÁßçÁî®Ê≥ïÂü∫Êú¨Áõ∏‰ººÔºàdefineÔºâ]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueÈü≥‰πêdemoÊÄªÁªì]]></title>
    <url>%2F2018%2F05%2F17%2Fvue%E9%9F%B3%E4%B9%90demo%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÂæàÊï¨‰Ω©ÈªÑËΩ∂ËÄÅÂ∏àÔºåÊ∂µÁõñ‰∫ÜÈùûÂ∏∏Â§öÁöÑÁü•ËØÜÁÇπ„ÄÇË∑üÁùÄÊï≤ËøòÊòØÈúÄË¶Å‰∏Ä‰∫õvueÂü∫Á°ÄÁöÑ„ÄÇ ÂÖ≥‰∫éVueÂºÄÂèëÈü≥‰πêappÁöÑÈ°πÁõÆÊÄªÁªì ÊàëÊääÂÆÉÈÉ®ÁΩ≤Âà∞‰∫ÜËá™Â∑±ÁöÑÊúçÂä°Âô® ÂèØ‰ª•Êâ´Á†ÅÊü•Áúã Â∑¶‰∏äËßí‰πüÂèØ‰ª•‰∏ãËΩΩÊàëÊâìÂåÖÂ•ΩÁöÑapp ‚ïÆ(‚ïØ‚ñΩ‚ï∞)‚ï≠Áî±‰∫éÊàëÊ≤°ÊúâÂ§áÊ°à Áõ¥Êé•Áî®ÁöÑÊúçÂä°Âô®ip ÊâÄ‰ª•ÂæÆ‰ø°Êâ´Á†ÅËØ∑ÁÇπÂáªÊü•ÁúãÂéüÁΩëÈ°µ,ÂæÆ‰ø°Êâ´Á†ÅËØ∑ÁÇπÂáªÊü•ÁúãÂéüÁΩëÈ°µ, ÂæÆ‰ø°Êâ´Á†ÅËØ∑ÁÇπÂáªÊü•ÁúãÂéüÁΩëÈ°µ„ÄÇÈáçË¶ÅÁöÑ‰∫ãÊÉÖËØ¥‰∏âÈÅç 1.Âà©Áî®vue-cli ÂàùÂßãÂåñÈ°πÁõÆ ËØ∑Êü•ÁúãÊú¨Á´ôÂè¶‰∏ÄÁØáÊñáÁ´† ‚úåÁÇπÂáª‰º†ÈÄÅÈó® 2.metaÊ†áÁ≠æÁöÑÁßªÂä®Á´ØÁöÑËá™ÈÄÇÂ∫îÂú®index.jsÁöÑheadÊ†áÁ≠æÂÜÖÂÜôname‰∏∫viewportÁöÑmetaÊ†áÁ≠æ1&lt;meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0, user-scalable=no"&gt; ‰∫ÜËß£‰∏Ä‰∏ãviewportÂèäÁõ∏ÂÖ≥Â±ûÊÄßËÆæÁΩÆ Â±ûÊÄß ÂÄº width ËÆæÁΩÆlayout viewport ÁöÑÂÆΩÂ∫¶Ôºå‰∏∫‰∏Ä‰∏™Ê≠£Êï¥Êï∞ÔºåÊàñÂ≠óÁ¨¶‰∏≤‚Äùwidth-device‚ÄùËÆæÂ§áÂÆΩÂ∫¶ initial-scale ËÆæÁΩÆÈ°µÈù¢ÁöÑÂàùÂßãÁº©ÊîæÂÄºÔºå‰∏∫‰∏Ä‰∏™Êï∞Â≠óÔºåÂèØ‰ª•Â∏¶Â∞èÊï∞ minimum-scale ÂÖÅËÆ∏Áî®Êà∑ÁöÑÊúÄÂ∞èÁº©ÊîæÂÄºÔºå‰∏∫‰∏Ä‰∏™Êï∞Â≠óÔºåÂèØ‰ª•Â∏¶Â∞èÊï∞ maximum-scale ÂÖÅËÆ∏Áî®Êà∑ÁöÑÊúÄÂ§ßÁº©ÊîæÂÄºÔºå‰∏∫‰∏Ä‰∏™Êï∞Â≠óÔºåÂèØ‰ª•Â∏¶Â∞èÊï∞ height ËÆæÁΩÆlayout viewport ÁöÑÈ´òÂ∫¶ÔºåËøô‰∏™Â±ûÊÄßÂπ∂‰∏çÈáçË¶ÅÔºåÂæàÂ∞ë‰ΩøÁî® user-scalable ÊòØÂê¶ÂÖÅËÆ∏Áî®Êà∑ËøõË°åÁº©ÊîæÔºåÂÄº‰∏∫‚Äùno‚ÄùÊàñ‚Äùyes‚Äù, no ‰ª£Ë°®‰∏çÂÖÅËÆ∏Ôºåyes‰ª£Ë°®ÂÖÅËÆ∏ Ê†πÊçÆ‰∏äÈù¢Ëøô‰∏™Ë°®Ê†º‰∏çÈöæÁúãÂá∫Ôºöwidth‰∏∫ËÆæÂ§áÂÆΩÂ∫¶ÔºåÂàùÂßãÁº©Êîæ‰∏∫1ÔºåÊúÄÂ§ßÂèäÊúÄÂ∞èÁº©ÊîæÈÉΩ‰∏∫1Ôºå‰∏çÂÖÅËÆ∏Áº©Êîæ 3.Ê∑ªÂä†‰æùËµñ babel-runtimeÂíåbabel-polyfillÂÆûÁé∞ES6ËΩ¨ES5babelÈªòËÆ§Âè™Êç¢Êñ∞ÁöÑjavascriptËØ≠Ê≥ïÔºå‰∏çËΩ¨Êç¢Êñ∞ÁöÑapiÔºåÊâÄ‰ª•Ë¶ÅÂÆâË£Öbabel-polyfillÔºå‰ΩÜÊòØ‰ºöÊ±°ÊüìÂÖ®Â±ÄÂèòÈáè ‰∏∫‰∫Ü‰∏çÊ±°ÊüìÂÖ®Â±ÄÂèòÈáèÂíåÂÜÖÁΩÆÂØπË±°ÂéüÂûãÔºåÂèàÊÉ≥‰ΩøÁî®ES6Êñ∞ËØ≠Ê≥ïÂíåapiÂ∞±ÈúÄË¶ÅÈÖçÂêà‰ΩøÁî®babel-runtime,ÂèØ‰ª•ÈÅøÂÖçÈáçÂ§ç‰ª£Á†Å 12cnpm i babel-runtime --savecnpm i babel-polyfill --save-dev ÁÑ∂ÂêéÈúÄË¶ÅÂú®ÂÖ•Âè£Êñá‰ª∂main.js‰∏≠ 1imprort 'bable-polyfill' 4.ÂºïÂÖ•fastclickËß£ÂÜ≥ÁßªÂä®Á´Ø300msÁÇπÂáªÂª∂ËøüÁöÑÈóÆÈ¢ò1cnpm i fastclick --save fastclickÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÂú®Ê£ÄÊµãÂà∞touchend‰∫ã‰ª∂ÁöÑÊó∂ÂÄôÔºå‰ºöÈÄöËøáDOMËá™ÂÆö‰πâ‰∫ã‰ª∂Á´ãÂç≥Âá∫ÂèëÊ®°Êãü‰∏Ä‰∏™click‰∫ã‰ª∂ÔºåÂπ∂ÊääÊµèËßàÂô®Âú®300ms‰πãÂêéÁöÑclick‰∫ã‰ª∂ÈòªÊ≠¢Êéâ„ÄÇ ÁÑ∂ÂêéÂú®ÂÖ•Âè£Êñá‰ª∂ÂºïÂÖ• 12import fastclick from 'fatclick'fastclick.attach(document.body) 5.webpack.base.conf.js‰∏≠ÂèØ‰ª•ÈÖçÁΩÆÂà´Âêç1234567resolve: &#123; extensions: ['.js', '.vue', '.json'], alias: &#123; '@': resolve('src'), 'common': resolve('src/common') &#125;&#125; ËøôÊ†∑È°µÈù¢importÊüê‰∏™Âú®src/common‰∏ãÁöÑÂØπË±°Êó∂ÂèØ‰ª•Áõ¥Êé•ÂÜô import music from &#39;common/music&#39; 6.Ë∑ØÁî±Êñá‰ª∂ÁöÑÈÖçÁΩÆ1234567891011121314151617181920212223242526272829303132// Âú®routerÊñá‰ª∂Â§πÂÜÖÁöÑindex.jsimport Vue from 'vue'import Router from 'vue-router'// ‰ª•‰∏äÊòØËÑöÊâãÊû∂Êê≠Âª∫È°πÁõÆÂ∑≤ÁªèÂÜôÂ•ΩÁöÑ// ÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏â‰∏™È°µÈù¢ ÂÖàÂØºÂÖ•import Test1 from 'src/components/test1'import Test2 from 'src/components/test2'import Test3 from 'src/components/test3'Vue.use(Router)export default new Router(&#123; routes:[ &#123; path: '/', redirect: '/test1' // ÈáçÂÆöÂêëpath'/test1' &#125;, &#123; path: '/test1', component: Test1 &#125;, &#123; path: '/test2', component: Test2 &#125;, &#123; path: '/test3', component: Test3 &#125; ]&#125;) ÂÆåÊàê‰∫ÜÂü∫Êú¨ÁöÑË∑ØÁî±ÈÖçÁΩÆ App.vueÈáåÁöÑrouter-viewÂ∞±‰ºöÊ∏≤ÊüìÂØπÂ∫îpathÁöÑcomponent ÊúÄÂ•ΩÊòØ‰ΩøÁî®Ë∑ØÁî±ÊåâÈúÄÂä†ËΩΩÔºåËØ∑Êü•ÁúãÊú¨Á´ôÂè¶‰∏ÄÁØáÊñáÁ´†‚úå ÁÇπÂáª‰º†ÈÄÅ 7.router-linkÁöÑ‰ΩøÁî®12345&lt;router-link tag="div" class="tab-item" to="/test1"&gt; &lt;span class="tab-link"&gt;ÊµãËØï&lt;/span&gt;&lt;/router-link&gt;// tagÊòØÊ∏≤ÊüìÁöÑÊ†áÁ≠æ toÂØπÂ∫îÁÇπÂáª‰ª•ÂêéÁöÑpath// router‰ºöÈªòËÆ§Êúâ‰∏Ä‰∏™class router-link-active ÂèØ‰ª•Ë¶ÜÁõñËá™ÂÆö‰πâÊ†∑Âºè 8.Â≠êÁªÑ‰ª∂ÂºïÂÖ•Âíå‰ΩøÁî®ÁöÑËßÑËåÉÂºïÂÖ•‰ΩøÁî®È¶ñÂ≠óÊØçÂ§ßÂÜôÂä†È©ºÂ≥∞ ‰ΩøÁî®Â∞èÂÜô - ËøûÊé• 12345// Áà∂ÁªÑ‰ª∂ test2‰∏≠ÂºïÂÖ•test1improt TestOne from 'components/test1'// template‰∏≠‰ΩøÁî®Êó∂&lt;test-one&gt;&lt;/test-one&gt;// Â∞ΩÈáèËØ≠‰πâÂåñ ÊàëËøôÈáåÈöèÊÑèÂÜôÁöÑÂ∞±Ê≤°ÊúâËØ≠‰πâÂåñ... 9.jsonpÁöÑÂéüÁêÜÂíå‰ΩøÁî® ÂéüÁêÜËØ∑Êü•ÁúãÊú¨Á´ôÂè¶‰∏ÄÁØáÊñáÁ´†‚úåÁÇπÂáª‰º†ÈÄÅ È°πÁõÆ‰∏≠ÂºïÂÖ•‰∫ÜjsonpÊèí‰ª∂ 1cnpm i jsonp --save Âõ†Â§öÂ§Ñ‰ºö‰ΩøÁî®Âà∞jsonpÂØπÂÆÉËøõË°å‰∏ÄÂ±ÇÂ∞ÅË£Ö 12345678910111213141516171819202122232425import originJSONP from 'jsonp'export default function jsonp(url, data, option) &#123;// url‰∏éÂ§ÑÁêÜÂêéÁöÑdataÊãºÊé• url += (url.indexOf('?') &lt; 0 ? '?' : '&amp;') + param(data) // ËøîÂõû‰∏Ä‰∏™promise return new Promise((resolve, reject) =&gt; &#123; originJSONP(url, option, (err, data) =&gt; &#123; // Êèí‰ª∂ÈªòËÆ§ËøîÂõûÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫nullÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫Êï∞ÊçÆ ÊâÄ‰ª•‰ºöÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ if (!err) &#123; resolve(data) &#125; else &#123; reject(err) &#125; &#125;) &#125;)&#125;// ÂØπdataÊï∞ÊçÆËøõË°åÂ§ÑÁêÜfunction param(data) &#123; let url = "" for (var k in data) &#123; let value = data[k] !== undefined ? data[k] : '' url += `&amp;$&#123;k&#125;=$&#123;encodeURIComponent(value)&#125;` &#125; return url ? url.substring(1) : ''&#125; Âõ†‰∏∫‰ΩøÁî®promiseÂ∞ÅË£Ö‰∫Ü ÊâÄ‰ª•Ë∞ÉÁî®Êó∂Ë¶ÅÁî®Âà∞.then 12import jsonp from 'common/js/jsonp'jsonp(url, data, option).then((res) =&gt; &#123;console.log(res)&#125;) ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫Ü ‚Üì 10.‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®promiseÂØπjsonpËøõË°åÂ∞ÅË£ÖËØïÊÉ≥‰∏ÄÁßçÂ∫îÁî®Âú∫ÊôØÔºàÂõûË∞ÉÂú∞Áã±ÔºâAÈÄöËøájsonpËØ∑Ê±ÇËé∑ÂèñÔºåBÊãøÂà∞AËøîÂõûÁöÑÊï∞ÊçÆ‰Ωú‰∏∫ÂèÇÊï∞ÈÄöËøájsonpËØ∑Ê±ÇËé∑ÂèñÔºåCÊãøÂà∞BËøîÂõûÁöÑÊï∞ÊçÆ‰Ωú‰∏∫ÂèÇÊï∞ÈÄöËøájsonpËØ∑Ê±ÇËé∑Âèñ Êàë‰ª¨ÁöÑÂÅöÊ≥ï‰∏ÄËà¨ÈÉΩÊòØÔºåÊâßË°åjsonp({Aparams})Âπ∂Âú®AÂõûË∞ÉÈáåÊãøÂà∞BÈúÄË¶ÅÁöÑÂèÇÊï∞Âπ∂‰∏îÊâßË°åjsonp({Bparams})ÁÑ∂ÂêéÂú®BÁöÑÂõûË∞ÉÈáåÊãøÂà∞CÈúÄË¶ÅÁöÑÂèÇÊï∞Âπ∂‰∏îÊâßË°åjsonp({Cparams}) ‰∏Ä‰∏§Â±ÇÂõûË∞ÉÁöÑÂµåÂ•óÂÖ∂ÂÆû‰πüËßâÂæóËøòÂ•ΩÔºå‰ΩÜÂ¶ÇÊûú‰∏öÂä°ÈÄªËæëÂ§çÊùÇÈúÄË¶ÅÂµåÂ•ó100Â±ÇÂë¢ÔºüËøôÊ†∑Â∞±ÈùûÂ∏∏‰∏ç‰æø‰∫éÈòÖËØªÂíåÁª¥Êä§Ôºå‰πüÂ∞±ÊòØÂ∏∏Âê¨Âà∞ÁöÑ‚ÄúÂõûË∞ÉÂú∞Áã±‚Äù ‰ª•‰∏äpromiseÂ∞ÅË£ÖÊòØÊÄé‰πàÂÅöÂà∞Ëß£ÂÜ≥ÂõûË∞ÉÂú∞Áã±ÁöÑÂë¢ÔºüËøòÊòØ‰∏äÈù¢ÈÇ£‰∏™Â∫îÁî®Âú∫ÊôØÔºåÊàë‰ª¨Áî®‰ª•‰∏äÂ∞ÅË£ÖÁöÑjsonpÊÄé‰πà‰ΩøÁî®Âë¢ jsonp({Aparams}).then(jsonp({Bparams})).then({jsonp(Cparams)})Âç≥ÂèØ ÂΩìÁ¨¨‰∏Ä‰∏™jsonpÊâßË°åÂêéËøîÂõû‰∏Ä‰∏™promiseÂØπË±°ÔºåpromiseÂØπË±°Áä∂ÊÄÅÂèëÁîüÊîπÂèòÂ∞±‰ºöËß¶ÂèëthenÂπ∂‰∏îÂèØ‰ª•ÊãøÂà∞AÁöÑresolve‰º†ÈÄíÂá∫ÂéªÁöÑÊï∞ÊçÆ,ÂÜçÊâßË°åÁ¨¨‰∫å‰∏™jsonpËøîÂõû‰∏Ä‰∏™promiseÂØπË±°ÔºåËÆ©promiseÂØπË±°Áä∂ÊÄÅÂèëÁîüÂèòÂåñÊó∂Ëß¶ÂèëthenÂèØ‰ª•ÊãøÂà∞BÁöÑresolve‰º†ÈÄíÂá∫ÂéªÁöÑÊï∞ÊçÆÂÜçÊâßË°åÁ¨¨‰∏â‰∏™jsonpÔºå‰æùÊ¨°Á±ªÊé®ÔºåÈùûÂ∏∏Ê∏ÖÊô∞„ÄÇ ÂΩìÁÑ∂‰∏öÂä°‰∏äÂÖ∂ÂÆûÊúârejectÁöÑÊÉÖÂÜµÔºåËøôÊó∂‰ºöÊâßË°å.catch( // ËøõË°åÈîôËØØÂ§ÑÁêÜ) ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºå‰ªÄ‰πàÊòØpromiseÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ promiseÁöÑ‰∏âÁßçÁä∂ÊÄÅ pending(ËøõË°å‰∏≠)Ôºõ fulfilled(Â∑≤ÊàêÂäü)Ôºõ rejected(Â∑≤Â§±Ë¥•)„ÄÇ Áä∂ÊÄÅÊîπÂèò ÂΩìÊâßË°åresolveÊó∂,promiseÂØπË±°ÁöÑÁä∂ÊÄÅ‰ºö‰ªépending Âèò‰∏∫ fulfilledÔºõ ÂΩìÊâßË°årejectÊó∂,promiseÂØπË±°ÁöÑÁä∂ÊÄÅ‰ºö‰ªépending Âèò‰∏∫ rejected; ÂΩìÁÑ∂ajax‰πüÂèØ‰ª•ÁªìÂêàpromiseÂ∞ÅË£ÖÔºåaxiosÂ∑≤ÁªèÁªìÂêà‰∫ÜpromiseÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® 11.better-scrollÁöÑ‰ΩøÁî® Áî±‰∫éÈ°πÁõÆÂæàÂ§öÂú∞ÊñπÈÉΩÈúÄË¶ÅÊªëÂä®ÔºåÊâÄ‰ª•Êàë‰ª¨ÂØπbetter-scrollËøõË°åÂ∞ÅË£Ö ËØ¶ËßÅÊú¨Á´ôÂè¶‰∏ÄÁØáÊñáÁ´†‚úå ÁÇπÂáª‰º†ÈÄÅ 12.ÂõæÁâáÊáíÂä†ËΩΩ: Vue-Lazyload ÈùûÂ∏∏Â•ΩÁî®ÁöÑ‰∏Ä‰∏™‰ºòÂåñÊèí‰ª∂ ÂÆòÊñπÊñáÊ°£‚úå ÁÇπÂáª‰º†ÈÄÅ ‰ΩøÁî®Ê≠•È™§1.npm ÂÆâË£Ö 1cnpm install vue-lazyload --save 2.main.js‰∏≠use 1234567import VueLazyLoad from 'vue-lazyload'Vue.use(VueLazyLoad, &#123; // loadingÂõæÁâá loading: require('Êú¨Âú∞ÂõæÁâáË∑ØÂæÑ')&#125;)// È°µÈù¢‰∏≠‰ΩøÁî® Âè™ÈúÄË¶ÅÁî®v-lazyÊåá‰ª§ÊõøÊç¢srcÂ∞±ÂèØ‰ª•‰∫Ü// scr="imgUrl" =&gt; v-lazy="imgUrl" Êõ¥Â§öÂ±ûÊÄßËØ∑ÁúãÂÆòÊñπÊñáÊ°£ÔºåË∂ÖË∂ÖË∂ÖÂ•ΩÁî® 13.vuexÁöÑ‰ΩøÁî®vuexÂ∏ÆÂä©Êàë‰ª¨ÁÆ°ÁêÜÂÖ±‰∫´Áä∂ÊÄÅ,Â§ö‰∏™Ê≤°Êúâ‰ªÄ‰πàÂÖ≥ËÅîÊÄßÁöÑÁªÑ‰ª∂ÊÉ≥Ë¶ÅÂÖ±‰∫´Áä∂ÊÄÅÂèØ‰ª•ÈÄöËøávuex ËØ¶ËßÅÊú¨Á´ôÂè¶‰∏ÄÁØáÊñáÁ´† ‚úå vuexÁöÑÂ≠¶‰π†Âèä‰ΩøÁî® 14.ES6 classÁ±ªÁöÑÂü∫Êú¨‰ΩøÁî® ES5‰∏≠ÁîüÊàêÂÆû‰æãÂØπË±°ÁöÑÊñπÊ≥ï‚ÄìÊûÑÈÄ†ÂáΩÊï∞ 12345678function Holly(x, y) &#123; this.x = x this.y = y&#125;Holly.protitype.connect = function() &#123; return (this.x + ',' + this.y )&#125;var hollyTree = new Holly('www.hollytree', '.top') ES6 ‰∏≠ÂºïÂÖ•classËøô‰∏™Ê¶ÇÂøµ,ÈíàÂØπ‰∏äÈù¢ÊîπÂÜô 123456789101112// ÂÆö‰πâ‰∏Ä‰∏™HollyÁöÑÁ±ªclass Holly &#123; constructor(x, y) &#123; this.x = x this.y = y &#125; // ÊñπÊ≥ïÁõ¥Êé•ÂÆö‰πâ ‰∏çÈúÄË¶ÅfunctionÂÖ≥ÈîÆÂ≠ó ‰πü‰∏çÈúÄË¶ÅÈÄóÂè∑ connect() &#123; return (this.x + ',' + this.y ) &#125;&#125;var hollyTree = new Holly('www.hollytree', '.top') HollyÁ±ªÈáåÊúâ‰∏Ä‰∏™cunstructorÊñπÊ≥ïÔºåËøôÂ∞±ÊòØÊûÑÈÄ†ÊñπÊ≥ïthisÊåáÂêëÂÆû‰æã„ÄÇ ‰πüÂ∞±ÊòØËØ¥ES5‰∏≠ÁöÑÊûÑÈÄ†ÂáΩÊï∞HollyÂØπÂ∫îES6‰∏≠HollyÁ±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ï ES6ÁöÑÁ±ªÂèØ‰ª•ÁúãÂÅöÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂè¶‰∏ÄÁßçÂÜôÊ≥ïÔºåtypeof Á±ª ËøîÂõû ‚Äòfunction‚Äô,Êï∞ÊçÆÁ±ªÂûã‰∏∫ÂáΩÊï∞ÔºåÁ±ªÊú¨Ë∫´ÊåáÂêëÊûÑÈÄ†ÂáΩÊï∞Ôºõ Á±ªÊâÄÊúâÁöÑÊñπÊ≥ïÈÉΩÂÆö‰πâÂú®Á±ªÁöÑprototypeÔºàÂéüÂûãÔºâ‰∏äÔºõ ÂéüÂûãÂØπË±°ÁöÑconstructorÂ±ûÊÄßÁõ¥Êé•ÊåáÂêëÁ±ªÊú¨Ë∫´‰∏éES5‰∏ÄËá¥ Áî±‰∫éÈ°πÁõÆ‰∏≠Â§öÂ§ÑÁî®Âà∞Ê≠åÊõ≤ÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îÊï∞ÊçÆÈúÄÊ±ÇÁöÑÊ†ºÂºèÂü∫Êú¨‰∏ÄÊ†∑ÔºåÊâÄ‰ª•ËøôÈáåÈÄâÊã©Áî®Á±ªÊù•ÂàõÂª∫songÂÆû‰æã12345678910111213141516171819202122// song.js// ÂÆö‰πâ‰∏Ä‰∏™SongÁ±ªÔºåÁ±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∫õÂèÇÊï∞Âπ∂ÊåáÂêëÂÆû‰æãexport default class Song &#123; constructor(&#123; id, mid, singer, name, album, duration, image, url &#125;) &#123; this.id = id this.mid = mid this.singer = singer this.name = name this.album = album this.duration = duration this.image = image this.url = url &#125; // Á±ªÁöÑÊñπÊ≥ï ÂÆû‰æãÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî® getLyric() &#123; if (this.lyric) &#123; return Promise.resolve(this.lyric) &#125; &#125;&#125;let songData = new Song(&#123;id: 22, mid:666, singer: 'holly'...&#125;)console.log(songData) // &#123;id: 22, mid: 666, singer: 'holly'...&#125; 15.HTML5 audioÈü≥È¢ëÊí≠Êîæ ÁÆÄÂçïÂ∫îÁî® 1&lt;audio ref="audio" :src="currentSong.url" @canplay="ready" @error="error" @timeupdate="updateTime"&gt; &lt;/audio&gt; play()ÊñπÊ≥ï ÂºÄÂßãÊí≠Êîæ canplay‰∫ã‰ª∂ÔºöÂΩìÊµèËßàÂô®ÂèØ‰ª•ÂºÄÂßãÊí≠ÊîæÈü≥È¢ë/ËßÜÈ¢ëÊó∂Ëß¶Âèë„ÄÇ paly‰∫ã‰ª∂Ôºö ÂΩìÈü≥‰πêÂºÄÂßãÊí≠ÊîæÊó∂Ëß¶ÂèëÔºàÊí≠ÊîæÊöÇÂÅúÊúâÊó∂Âõ†‰∏∫‰∏öÂä°ÈÄªËæëÂèØËÉΩÈúÄË¶ÅÂ∞ÜcanplayÊç¢Êàêplay‰∫ã‰ª∂ÔºåÊéßÂà∂ÂàáÊç¢‰ª•ÂèäreadyËß¶ÂèëÊó∂‰øùËØÅÂ∑≤Áªèplay()Ôºâ error‰∫ã‰ª∂ÔºöÂΩìÂú®Èü≥È¢ë/ËßÜÈ¢ëÂä†ËΩΩÊúüÈó¥ÂèëÁîüÈîôËØØÊó∂Ëß¶Âèë„ÄÇ timeupdate‰∫ã‰ª∂ÔºöÂú®Èü≥È¢ë/ËßÜÈ¢ëÔºàaudio/videoÔºâÁöÑÊí≠Êîæ‰ΩçÁΩÆÂèëÁîüÊîπÂèòÊó∂Ëß¶Âèë„ÄÇ ‰ª•‰∏ã‰ª£Á†ÅÂÆûÁé∞ÂäüËÉΩÔºö ÂΩìÊ≠åÊõ≤ÂèëÁîüÊîπÂèòÁöÑÊó∂ÂÄôÊí≠Êîæ‰πüÂ∞±ÊòØË∞ÉÁî®play() Âú®Êí≠ÊîæÂô®ÂàáÊç¢Ê≠åÊõ≤Êó∂ÂèØ‰ª•ÊéßÂà∂ÔºåÂΩìÂâçÊ≠åÊõ≤Â∑≤ÁªèreadyÊó∂ÊâçËÉΩÂàáÊç¢Âà∞‰∏ã‰∏ÄÈ¶ñ ÂÆûÊó∂Ëé∑ÂèñÊí≠ÊîæÊó∂Èó¥ 123456789101112131415161718192021222324252627282930313233343536data() &#123; return &#123; // Ê†áËØÜ songReady: false &#125;&#125;Ôºåmethods: &#123;// Âè™ÊúâËØ•Ê≠åÊõ≤Â∑≤ÁªèreadyÊó∂ÔºåËµãÂÄº‰∏∫true ready() &#123; this.songReady = true &#125;,// ÁÑ∂ÂêéÂú®ÂàáÊç¢ÁöÑÊñπÊ≥ïÈáå ‰æãÂ¶Çnext() Âä†‰∏Ä‰∏™Âà§Êñ≠Â∞±ÂèØ‰ª•‰∫Ü next() &#123; if(!this.songReady) &#123; return &#125; // Â∞±‰∏çÊâßË°å‰∏ãÈù¢ÁöÑ‰∫Ü ... // ÊúÄÂêéÂú®ÈáçÁΩÆ‰∏∫false this.songReady = false &#125;Ôºå // ÂΩìËµÑÊ∫êÂä†ËΩΩÂ§±Ë¥•Êó∂‰∏çÂΩ±ÂìçÂàáÊç¢Êìç‰Ωú error() &#123; this.songReady = true &#125;&#125;Ôºåwatch: &#123; // ÂΩìÂâçÊ≠åÊõ≤ÂèòÂåñÊó∂Âπ∂‰∏îÂ∑≤Áªèready ÂºÄÂßãÊí≠Êîæ currentSong() &#123; if(!this.songReady) &#123; return &#125; this.$refs.audio.play() this.songReady = true &#125;&#125; 16. VueÁöÑÊ∑∑ÂÖ• Mixins ÁöÑ‰ΩøÁî® Ê∑∑ÂÖ• (mixins) ÊòØ‰∏ÄÁßçÂàÜÂèë Vue ÁªÑ‰ª∂‰∏≠ÂèØÂ§çÁî®ÂäüËÉΩÁöÑÈùûÂ∏∏ÁÅµÊ¥ªÁöÑÊñπÂºè„ÄÇ ËØ¶ËßÅÊú¨Á´ôÂè¶‰∏ÄÁØáÊñáÁ´†‚úå ÁÇπÂáª‰º†ÈÄÅ MixinsÁöÑ‰ΩøÁî®]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ÂºÄÂèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue‰∏≠Ê∑∑ÂÖ•ÁöÑ‰ΩøÁî®ÔºàMixinÔºâ]]></title>
    <url>%2F2018%2F04%2F25%2FVue%E4%B8%AD%E6%B7%B7%E5%85%A5%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88Mixins%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ÂΩìÂá∫Áé∞Á±ª‰ººÁªÑ‰ª∂ÔºåÂäüËÉΩÂèàÊúâÈáçÂè†ÁöÑÂú∞ÊñπÔºå‰ΩÜÂèàÂÖ∑ÊúâÊØîËæÉÂ§ßÁöÑÂ∑ÆÂºÇÊó∂ÂèØ‰ª•‰ΩøÁî®MixinÔºåÂè™ÊèêÂèñÂÖ¨ÂÖ±ÁöÑÈÉ®ÂàÜ„ÄÇÁÑ∂ÂêéÊ∑∑ÂÖ•Âà∞Â§ö‰∏™ÁªÑ‰ª∂‰∏≠„ÄÇÔºàÂÜôÊ≥ï‰∏éÁªÑ‰ª∂ÈùûÂ∏∏Á±ª‰ººÔºåÂæàÂÆπÊòì‰∏äÊâãÔºâ MixinÁöÑÂü∫Êú¨Áî®Ê≥ïÁé∞Âú®ÁöÑÂú∫ÊôØÊòØ Â§ö‰∏™È°µÈù¢Â∫ïÈÉ®ÊúâAÁªÑ‰ª∂ÔºåÂ§ö‰∏™È°µÈù¢ÂÜÖÂÆπÈÉΩÂèØÊªëÂä®ÔºåÊªëÂä®Âà∞ÊúÄÂ∫ïÈÉ®Êó∂‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπË¢´AÁªÑ‰ª∂ÈÅÆÊå°ÔºåÔºàÊªëÂä®Áî®ÁöÑscorllÁªÑ‰ª∂ÔºâËøôÊó∂ÈúÄË¶ÅÂú®È°µÈù¢ÊúâÊï∞ÊçÆÊó∂Áªôscroll‰∏Ä‰∏™bottomÁ≠â‰∫éAÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶ÂÜçÈáçÊñ∞ËÆ°ÁÆóscroll scrollÁªÑ‰ª∂ÊòØÂà©Áî®better-scrollÂ∞ÅË£ÖÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂ ËØ¶ËßÅÂè¶‰∏ÄÁØá ÁÇπÂáª‰º†ÈÄÅ Â§ö‰∏™ÁªÑ‰ª∂ÈúÄË¶ÅÂÜôÁõ∏ÂêåÈÄªËæë,Êé®Ëçê‰ΩøÁî®Mixin12345678910111213141516171819202122232425// mixin.jsimport &#123;mapGetters&#125; from 'vuex'export const playlistMixin = &#123; computed: &#123; ...mapGetters(['playlist']) &#125;, mouted() &#123; this.handlePlaylist(this.playlist) &#125;, activated() &#123; this.handlePlaylist(this.playlist) &#125;, watch: &#123; playlist(newVal) &#123; this.handlePlaylist(this.playlist) &#125; &#125;, methods: &#123; // handlePlaylistÈúÄË¶ÅË¢´ÂÖ∑‰ΩìÁªÑ‰ª∂ÂÆûÁé∞ ÂΩìÊ∑∑ÂÖ•ÁöÑÁªÑ‰ª∂‰∏≠ÊúâËøô‰∏™ÊñπÊ≥ïÊó∂‰ºöË¶ÜÁõñmixin‰∏≠ÁöÑÂêåÂêçÊñπÊ≥ï handlePlaylist() &#123; // Ê≤°ÊúâÊó∂ Êàë‰ª¨ÊâãÂä®Êäõ‰∏Ä‰∏™error throw new Error ('error') &#125; &#125;&#125; Ê∑∑ÂÖ•Âà∞ÁªÑ‰ª∂‰∏≠1234567891011121314151617181920212223// music-list.vue// ÂºïÂÖ•import &#123;playlistMixin&#125; from './mixin'// mixinsÂ±ûÊÄßÊ∑∑ÂÖ•export default &#123; // ÂèØ‰ª•Ê∑∑ÂÖ•Â§ö‰∏™ ÈÄóÂè∑ÈöîÂºÄ mixins: [playlistMixin], data() &#123; return &#123; &#125; &#125;Ôºå methods: &#123; handlePlaylist(list) &#123; const bottom = list.length &gt; 0 ? '60px' : '' // scrollÁªÑ‰ª∂ÁöÑdom this.$refs.list.$el.style.bottom = bottom // ÈáçÊñ∞ËÆ°ÁÆóÈ´òÂ∫¶ÔºåÊúÄÂ§ßÊªëÂä®È´òÂ∫¶‰πü‰ºöË¢´ÈáçÊñ∞ËÆ°ÁÆó ËææÂà∞ÂÜÖÂÆπ‰∏çË¢´AÁªÑ‰ª∂ÈÅÆÊå°ÁöÑÊïàÊûú this.$refs.list.refresh() &#125; &#125;&#125;// Ê∑∑ÂÖ•Âà∞ÂÖ∂‰ªñÈ°µÈù¢ÂÜôÊ≥ï‰πü‰∏ÄÊ†∑ Âè™ÊòØhandlePlaylistÁöÑÊñπÊ≥ï‰ΩìÊ†πÊçÆÊØè‰∏™È°µÈù¢‰∏çÂêåÊù•ÂÜô Â∑≤ÁªèÂú®Â§ö‰∏™ÁªÑ‰ª∂ÂÜô‰∫ÜÁõ∏ÂêåÈÄªËæëÊàñÂäüËÉΩ ‰πüÂèØ‰ª•ÊèêÂèñÂá∫Êù•ÂÜçÊ∑∑ÂÖ• ÂáèÂ∞ë‰ª£Á†ÅÈáè ‰πüÊñπ‰æøÁª¥Êä§]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>mixin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[better-scollÁöÑÂ∞ÅË£Ö‰∏é‰ΩøÁî®]]></title>
    <url>%2F2018%2F04%2F19%2Fbetter-scoll%E7%9A%84%E5%B0%81%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[better-scrollÊòØËß£ÂÜ≥ÂêÑÁßçÊªöÂä®Âú∫ÊôØÈúÄÊ±ÇÁöÑÊèí‰ª∂ÔºåÁî±‰∫é‰∏ÄËà¨ÁßªÂä®Á´ØÈ°πÁõÆÊªöÂä®ÁöÑÂú∫ÊôØÁâπÂà´Â§öÔºåÊâÄ‰ª•‰ºöÂØπÂÖ∂ËøõË°åÂ∞ÅË£ÖÂ§çÁî® Vue‰∏≠ÁöÑbetter-scrollÂ≠¶‰π†Âèä‰ΩøÁî®better-scroll ‰∏≠ÊñáÊñáÊ°£ ‚úå ÁÇπÂáª‰º†ÈÄÅ È¶ñÂÖàÂ§ßÊ¶Ç‰∫ÜËß£‰∏Ä‰∏ãËØ•Êèí‰ª∂ÁöÑÊªöÂä®ÂéüÁêÜ Áà∂ÂÆπÂô®Êúâ‰∏Ä‰∏™Âõ∫ÂÆöÈ´òÂ∫¶ Á¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåÈ´òÂ∫¶‰ºöÈöèÂÜÖÂÆπËøõË°åÂèòÂåñ ÂΩìÂÜÖÂÆπÈ´òÂ∫¶‰∏çË∂ÖËøáÁà∂ÂÆπÂô®‰∏çÊªöÂä®,Ë∂ÖËøáÁà∂ÂÆπÂô®Â∞±ÂèØ‰ª•ÊªöÂä® ÈáçÁÇπÔºöbetter-scrollÂØπÂ§ñÊö¥Èú≤‰∫Ü‰∏Ä‰∏™BScrollÁöÑÁ±ªÔºåÊàë‰ª¨ÂàùÂßãÂåñÂè™ÈúÄË¶Åneiw‰∏Ä‰∏™ÂÆû‰æãÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Áà∂ÂÆπÂô®ÁöÑDOM,Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∫õÈÖçÁΩÆ„ÄÇ ÂàùÂßãÂåñÊó∂‰ºöÂ≠êÈÖ∏Áà∂ÂÖÉÁ¥†ÂíåÂ≠êÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶ÂíåÂÆΩÂ∫¶ÔºåÊâçËÉΩÂÜ≥ÂÆöÊòØÂê¶ÂèØ‰ª•ÊªöÂä®ÔºåÊâÄ‰ª•ÂàùÂßãÂåñÊó∂ÂøÖÈ°ªÁ°Æ‰øùÁà∂ÂÖÉÁ¥†‰∏éÂ≠êÂÖÉÁ¥†Â∑≤ÁªèÊ∏≤Êüì„ÄÇÂê¶Âàô‰ºöÂá∫Áé∞‰∏çÂèØÊªöÂä®ÁöÑÊÉÖÂÜµ ÂΩìÂ≠êÂÖÉÁ¥†ÊàñËÄÖÁà∂ÂÖÉÁ¥†DOMÁªìÊûúÂèëÁîüÂèòÂåñÔºàÈÄöÂ∏∏‰πüÂ∞±ÊòØÊï∞ÊçÆÂèëÁîüÂèòÂåñÔºâÈúÄË¶ÅÂÜ≤Ê¥óË∞ÉÁî®refresh()ÊñπÊ≥ïÈáçÊñ∞ËÆ°ÁÆóÈ´òÂ∫¶ ÂÜô‰∏Ä‰∏™Âü∫Á°ÄÁöÑscrollÁªÑ‰ª∂domÁªìÊûÑÂæàÁÆÄÂçï 1234567&lt;template&gt; // Áà∂ÂÆπÂô® &lt;div ref="wrapper"&gt; // ÊèíÊßΩ &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293&lt;script&gt; // ÂÖàÂºïÂÖ•better-scroll improt Bscroll 'better-scroll' export default &#123; // ÂèØÊé•Êî∂ÁöÑÂÄº props: &#123; // ÁªÑ‰ª∂ÁöÑ‰∏Ä‰∏™Â±ûÊÄßÂèØ‰ª•ÁúãÊñáÊ°£Ôºö‰∏∫0Êó∂‰∏çÊ¥æÂèëscroll‰∫ã‰ª∂Ôºå1Êó∂ÊªëÂä®Ë∂ÖËøá‰∏ÄÂÆö‰∫ã‰ª∂Ê¥æÂèëscroll‰∫ã‰ª∂Ôºå2Êó∂ÊªëÂä®ËøáÁ®ã‰∏≠Êó∂Êó∂Ê¥æÂèëscroll‰∫ã‰ª∂Ôºå3Êó∂‰∏ç‰ªÖÊªëÂä®Êó∂Êó∂Êó∂Ê¥æÂèëÔºåÂè¶‰∏Ä‰∏™Â±ûÊÄßmomentum‰∏∫trueÂºÄÂêØÂä®ÁîªÔºåÂä®Áîª‰πüÊ¥æÂèëscroll‰∫ã‰ª∂ probeType: &#123; type: Number, default: 1 &#125;Ôºå click: &#123; type: Boolean, default: true &#125;Ôºå // Êï∞ÊçÆÂΩ±ÂìçÊªëÂä®ÔºåÊâÄ‰ª•ÈúÄË¶ÅÊé•Êî∂ÂØπÂ∫îÊï∞ÊçÆ data: &#123; type: Array, default: null &#125;Ôºå // ÁõëÂê¨ÊªöÂä® listenScroll: &#123; type: Boolean, default: false &#125; mounted() &#123; // ÂàùÂßãÂåñÊó∂Êú∫ Âú®domÂ∑≤Ê∏≤Êüì setTimeout(() =&gt; &#123; this._initScroll() &#125;, 20) &#125;, methods: &#123; // ÂàùÂßãÂåñÊñπÊ≥ï _initScroll() &#123; // Èò≤Èîô ÈÅøÂÖçundefined if(!this.$refs.wrapper) &#123; return &#125; // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Áà∂ÂÆπÂô®dom Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫‰∏Ä‰∫õÈÖçÁΩÆÂèÇÊï∞ this.scroll = new BScroll(this.$refs.wrapper, &#123; probeType: this.probeTypeÔºå // Ê¥æÂèëscrollÁöÑÊ®°Âºè click: this.click &#125;) // Â¶ÇÊûúÊúâÁõëÂê¨listenScroll // ËÆ∞ÂΩïVueÂÆû‰æãÁöÑthis let me = this if(this.listenScroll) &#123; // ÁõëÂê¨scroll‰∫ã‰ª∂Âπ∂‰∏îÊ¥æÂèëscrollÊó∂Èó¥Êääpos‰ΩçÁΩÆ‰º†Âá∫Âéª // Ëß¶ÂèëÊó∂Êú∫ÔºöÊªöÂä®ËøáÁ®ã‰∏≠ÔºåÂÖ∑‰ΩìÊó∂Êú∫ÂèñÂÜ≥‰∫éÈÄâÈ°π‰∏≠ÁöÑ probeType // ÂÖ∑‰ΩìÂèØ‰ª•Êü•ÈòÖÂÆòÊñπÊñáÊ°£ this.scroll.on('scroll', pos =&gt; &#123; // Ëøô‰∏™ÂõûË∞ÉÈáåÁöÑthisÊâßË°åbetter-scroll ÊâÄ‰ª•Ë¶ÅËÆ∞ÂΩïVueÂÆû‰æãÁöÑthis // posÊòØ‰ΩçÁΩÆ me.$emit('scroll', pos) &#125;) &#125; &#125;, // ‰ª•‰∏ãÈÉΩÊòØbetter-scrollÁöÑAPI // ÂêØÁî® enable() &#123; this.scroll &amp;&amp; this.scroll.enable() &#125;, // Á¶ÅÁî® disable() &#123; this.scroll &amp;&amp; this.scroll.disable() &#125; // Âà∑Êñ∞scroll ÈáçÊñ∞ËÆ°ÁÆó refresh() &#123; this.scroll &amp;&amp; this.scroll.refresh() &#125;Ôºå // ÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆ ÂèÇÊï∞‰∏∫xÂùêÊ†á(px)ÔºåyÂùêÊ†á(px)ÔºåÊªöÂä®Âä®ÁîªÊó∂Èïø(ms),ÁºìÂä®ÂáΩÊï∞ÔºåÈªòËÆ§easing scrollTo() &#123; // applyÊòØ‰∏∫‰∫Ü‰øùËØÅÊåáÂêëVueÂÆû‰æã // scrollToÁöÑthisÊåáÂêëbetter-scroll this.scroll &amp;&amp; this.scroll.scrollTo.apply(this.scroll, arguments) &#125;, // ÊªöÂä®Âà∞ÁõÆÊ†áÂÖÉÁ¥† ÂèÇÊï∞ÔºöelÊªöÂä®Âà∞ÁöÑÁõÆÊ†áÂÖÉÁ¥†ÔºåÊªöÂä®Âä®ÁîªÊó∂Èïø(ms),offsetXÁõ∏ÂØπÁõÆÊ†áÂÖÉÁ¥†Ê®™ÂêëÂÅèÁßªÈáè(px)Â¶ÇÊûúÁõ¥Êé•ËÆæ‰∏∫trueÂàô‰∏≠ÂøÉÔºåoffsetYÂêåÁêÜÔºåÁºìÂä®Âä®Áîª ÈªòËÆ§easing scrollToElement() &#123; this.scroll &amp;&amp; this.scroll.scrollToElment.apply(this.scroll, arguments) &#125; &#125;Ôºå watch: &#123; // ÂΩìÊï∞ÊçÆÂèëÁîüÂèòÂåñÊó∂ÈáçÊñ∞ËÆ°ÁÆóscoll data() &#123; setTimeout(() =&gt; &#123; this.refresh() &#125;, 20) &#125; &#125; &#125; &#125;&lt;/script&gt; ‰ΩøÁî®‰∏äÈù¢Â∞ÅË£ÖÁöÑÁªÑ‰ª∂ÂºïÂÖ•scrollÁªÑ‰ª∂ Âπ∂Âú®È°µÈù¢Ê≥®ÂÜå ÁÑ∂ÂêéÂú®template‰∏≠‰ΩøÁî® test1 12345678910&lt;template&gt; &lt;scroll ref="listWrapper" :data="list"&gt; &lt;div class="content"&gt; &lt;div class="list1" v-for="item1 in list1"&gt; &lt;span&gt;item1&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/scroll&gt;&lt;/template&gt; Â∞ÜËé∑ÂèñÂà∞ÁöÑlistÊï∞ÊçÆ‰º†ÂÖ•scrollÁªÑ‰ª∂ÔºåscrollÁªÑ‰ª∂watchÂà∞dataÂèòÂåñ‰ºöÈáçÊñ∞ËÆ°ÁÆóÈ´òÂ∫¶ÔºåËøôÊòØÂ¶ÇÊûúÂÜÖÂÆπË∂ÖËøáÁà∂ÂÆπÂô®Â∞±ÂèØ‰ª•Ê≠£Â∏∏ÊªëÂä®‰∫Ü test2 123456789101112&lt;template&gt; &lt;scroll ref="listWrapper" :data="list"&gt; &lt;div class="content"&gt; &lt;div class="list1" v-for="item1 in list1"&gt; &lt;span&gt;item1&lt;/span&gt; &lt;/div&gt; &lt;div class="list2" v-for="item2 in list2"&gt; &lt;span&gt;item2&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/scroll&gt;&lt;/template&gt; ÂΩì‰∏Ä‰∏™ÊªëÂä®Âá∫Áé∞‰∏§‰∏™Êàñ‰∏§‰∏™‰ª•‰∏äÁî±ÂÜÖÂÆπÊíëÂºÄÈ´òÂ∫¶ÂºÇÊ≠•Ëé∑ÂèñÁöÑÊÉÖÂÜµÔºåË¶ÅÁ°Æ‰øùÈÉΩËé∑ÂèñÂà∞Êï∞ÊçÆ‰ª•ÂêéÂÜç‰º†dataÔºåÊàñËÄÖÊâãÂä®Ë∞ÉÁî®refreshÊñπÊ≥ï this.$refs.listWrapper.refresh()ÈáçÊñ∞ËÆ°ÁÆó test3 ÂÆûÁé∞ÁÇπÂáªÂè≥‰æßÂ≠óÊØçÂ∑¶‰æßÊªëÂä®Âà∞ÂØπÂ∫î‰ΩçÁΩÆ‰ª•ÂèäÊªëÂä®Âè≥‰æßÂ∑¶‰æßÊªëÂä®Âà∞ÂØπÂ∫î‰ΩçÁΩÆÊïàÊûúÂõæ È¶ñÂÖàÂºïÂÖ•‰∏äÈù¢Â∞ÅË£ÖÁöÑscrollÁªÑ‰ª∂ Âπ∂Âú®È°µÈù¢Ê≥®ÂÜå ÁÑ∂ÂêéÂú®template‰∏≠‰ΩøÁî® Â∑¶‰æßÊï∞ÊçÆ‰∏éÂè≥‰æßÊï∞ÊçÆÁöÑÁ¥¢ÂºïÊòØÂØπÂ∫îÂ•ΩÁöÑ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203&lt;template&gt; &lt;scroll @scroll="scroll" :listen-scroll="listenScroll" :probe-type="probeType" :data="data" class="listview" ref="listview"&gt; &lt;--Â∑¶‰æßÂàóË°®--&gt; &lt;ul&gt; &lt;li v-for="group in data" class="list-group" ref="listGroup"&gt; &lt;h2 class="list-group-title"&gt;&#123;&#123;group.title&#125;&#125;&lt;/h2&gt; &lt;uL&gt; &lt;li @click="selectItem(item)" v-for="item in group.items" class="list-group-item"&gt; &lt;img class="avatar" v-lazy="item.avatar"&gt; &lt;span class="name"&gt;&#123;&#123;item.name&#125;&#125;&lt;/span&gt; &lt;/li&gt; &lt;/uL&gt; &lt;/li&gt; &lt;/ul&gt; &lt;--Âè≥‰æßÂ≠óÊØç--&gt; &lt;div class="list-shortcut" @touchstart.stop.prevent="onShortcutTouchStart" @touchmove.stop.prevent="onShortcutTouchMove" @touchend.stop&gt; &lt;ul&gt; &lt;--Â∑¶‰æßÊªöÂä®Âè≥‰æßÂÆûÊó∂È´ò‰∫Æ--&gt; &lt;li v-for="(item, index) in shortcutList" :data-index="index" class="item" :class="&#123;'current':currentIndex===index&#125;"&gt;&#123;&#123;item&#125;&#125; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class="list-fixed" ref="fixed" v-show="fixedTitle"&gt; &lt;div class="fixed-title"&gt;&#123;&#123;fixedTitle&#125;&#125; &lt;/div&gt; &lt;/div&gt; &lt;/scroll&gt;&lt;/template&gt; &lt;script type="text/ecmascript-6"&gt; import Scroll from 'src/base/scroll/scroll' // Â∑¶‰æßtitleÈ´òÂ∫¶ Ê†πÊçÆÊ†∑ÂºèÊù•ÁöÑ constÊòØ‰∏∫‰∫Ü‰ª•ÂêéÊúâÂèòÂåñÂ•ΩÁªü‰∏ÄÂ§ÑÁêÜ const TITLE_HEIGHT = 30 // Âè≥‰æßÊØè‰∏™liÁöÑÈ´òÂ∫¶ const ANCHOR_HEIGHT = 18 export default &#123; props: &#123; data: &#123; type: Array, default: [] &#125; &#125;, computed: &#123; shortcutList() &#123; return this.data.map((group) =&gt; &#123; return group.title.substr(0, 1) &#125;) &#125;, fixedTitle() &#123; if (this.scrollY &gt; 0) &#123; return '' &#125; return this.data[this.currentIndex] ? this.data[this.currentIndex].title : '' &#125; &#125;, data() &#123; return &#123; scrollY: -1, currentIndex: 0, diff: -1 &#125; &#125;, created() &#123; this.probeType = 3 this.listenScroll = true this.touch = &#123;&#125; this.listHeight = [] &#125;, methods: &#123; // ËÆæÁΩÆÊàñËé∑ÂèñËá™ÂÆö‰πâÂ±ûÊÄßÁöÑÊñπÊ≥ï getData(el, name, val) &#123; const prefix = 'data-' if(val) &#123; //ÊúâÁ¨¨‰∏â‰∏™ÂèÇÊï∞Êó∂set return el.setAttribute(prefix + name, val) &#125; else &#123; // Ê≤°ÊúâÁ¨¨‰∏â‰∏™ÂèÇÊï∞Êó∂get return el.getAttribute(prefix + name) &#125; &#125;, selectItem(item) &#123; this.$emit('select', item) &#125;, // ÁÇπÂáªÂè≥‰æßÂ≠óÊØçÊó∂ onShortcutTouchStart(e) &#123; // dom‰∏≠Â∑≤ÁªèËÆæÁΩÆ‰∫ÜËá™ÂÆö‰πâÂ±ûÊÄß :data-index="index" Áõ¥Êé•Ëé∑ÂèñÂæóÂà∞Á¥¢Âºï let anchorIndex = this.getData(e.target, 'index') // Ë∞ÉÁî®ÁªÑ‰ª∂ÊªöÂä®Âà∞ÂÖÉÁ¥†ÁöÑÊñπÊ≥ï ÊªöÂä®Âà∞Â∑¶‰æßÂàóË°®ÂØπÂ∫îÁöÑindex DomÂÖÉÁ¥† // Áî±‰∫éÊØîËæÉÈïø Â§öÂ§Ñ‰ºöÁî®Âà∞ÂèØ‰ª•ËøõË°åÂ∞ÅË£Ö ËßÅ_scrollTo //this.$refs.listview.scrollToElement(this.$refs.listGroup[anchorIndex]) // ËÆ∞ÂΩïÁ¨¨‰∏Ä‰∏™touchesÊâãÊåáÁöÑ‰ΩçÁΩÆ let firstTouch = e.touches[0] // ËÆ∞ÂΩïstartÁöÑYÂÄº this.touch.y1 = firstTouch.pageY // ËÆ∞ÂΩïindex this.touch.anchorIndex = anchorIndex // Â∑¶‰æßÂàóË°®ÊªëÂä®Âà∞ÊåáÂÆöÂÖÉÁ¥†‰ΩçÁΩÆ this._scrollTo(anchorIndex) &#125;, // ÊªëÂä®ËøáÁ®ã‰∏≠ ÂàóË°®Ë∑üÈöèÊªöÂä® ÈúÄË¶ÅËÆ∞ÂΩïstartÁöÑYÂÄºËÆ°ÁÆóÂ∑Æ onShortcutTouchMove(e) &#123; // ËÆ∞ÂΩïÊªëÂä®Á¨¨‰∏Ä‰∏™ÊâãÊåá‰ΩçÁΩÆÁöÑYÂÄº let firstTouch = e.touches[0] this.touch.y2 = firstTouch.pageY // Ëé∑ÂæóstartÂíåmoveÁöÑYÂÄºÂ∑Æ / Âè≥‰æßÊØè‰∏™liÁöÑÈ´òÂ∫¶ÔºàANCHOR_HEIGHTÔºâ| 0 ‰πüÂ∞±ÊòØÂêë‰∏ãÂèñÊï¥ // ‰πüÂ∞±ÊòØËé∑Âæó‰∫ÜÂÅèÁßª‰∫ÜÂá†‰∏™ÂÖÉÁ¥† let delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0 // Êñ∞ÁöÑÂÖÉÁ¥†‰ΩçÁΩÆÂ∞±ÊòØstartËÆ∞ÂΩïÁöÑÁ¥¢Âºï+delta let anchorIndex = parseInt(this.touch.anchorIndex) + delta // ÊªëÂä®Âà∞ÊåáÂÆöÂÖÉÁ¥†‰ΩçÁΩÆ this._scrollTo(anchorIndex) &#125;, refresh() &#123; this.$refs.listview.refresh() &#125;, // ËÆ∞ÂΩïÂÆûÊó∂ÊªöÂä®ÁöÑYÂÄº scroll(pos) &#123; this.scrollY = pos.y &#125;, // ËÆ°ÁÆóÊØè‰∏™Â∑¶‰æßÂàóË°®ÁöÑÈ´òÂ∫¶ _calculateHeight() &#123; this.listHeight = [] const list = this.$refs.listGroup let height = 0 this.listHeight.push(height) for (let i = 0; i &lt; list.length; i++) &#123; let item = list[i] height += item.clientHeight this.listHeight.push(height) &#125; &#125;, _scrollTo(index) &#123; if (!index &amp;&amp; index !== 0) &#123; return &#125; // ÁÇπÂáªÂè≥‰æßÊó∂ scrollYËµãÂÄºÂÆûÁé∞È´ò‰∫Æ Âõ†‰∏∫ÁÇπÂáªÊó∂Â∑¶‰æßÊ≤°ÊúâÊ¥æÂèëscroll‰∫ã‰ª∂Ê≤°ÊúâÊõ¥Êñ∞scrollY // ÈúÄË¶ÅÊ†πÊçÆÈÄªËæëÊâãÂä®ÁªôscrollYËµãÂÄº if (index &lt; 0) &#123; // È°∂ÈÉ® index = 0 &#125; else if (index &gt; this.listHeight.length - 2) &#123; // Â∫ïÈÉ® index = this.listHeight.length - 2 &#125; this.scrollY = -this.listHeight[index] // Â∑¶‰æßÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆ this.$refs.listview.scrollToElement(this.$refs.listGroup[index], 0) &#125; &#125;, watch: &#123; data() &#123; // dataÂèëÁîüÊîπÂèòÊó∂ ÈáçÊñ∞ËÆ°ÁÆóÂ∑¶‰æßÊØè‰∏™ÂàóË°®È´òÂ∫¶ setTimeout(() =&gt; &#123; this._calculateHeight() &#125;, 20) &#125;, // ÊªëÂä®‰ΩçÁΩÆÂèëÁîüÂèòÂåñÊó∂ scrollY(newY) &#123; // ‰∏âÁßçÊÉÖÂÜµ È°∂ÈÉ® ‰∏≠Èó¥ Â∫ïÈÉ® const listHeight = this.listHeight // ÂΩìÊªöÂä®Âà∞È°∂ÈÉ®ÔºånewY&gt;0 if (newY &gt; 0) &#123; this.currentIndex = 0 return &#125; // Âú®‰∏≠Èó¥ÈÉ®ÂàÜÊªöÂä® for (let i = 0; i &lt; listHeight.length - 1; i++) &#123; let height1 = listHeight[i] let height2 = listHeight[i + 1] // ‰∏§‰∏™ÂÖÉÁ¥†‰πãÈó¥ if (-newY &gt;= height1 &amp;&amp; -newY &lt; height2) &#123; this.currentIndex = i this.diff = height2 + newY return &#125; &#125; // ÂΩìÊªöÂä®Âà∞Â∫ïÈÉ®Ôºå‰∏î-newYÂ§ß‰∫éÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ‰∏äÈôê // 2ÁöÑÂéüÂõ†ÊòØ listHeightÂú®ÂàõÂª∫Êó∂ÊØîÂÖÉÁ¥†Â§ö‰∏Ä‰∏™ Âπ∂‰∏îÂ∫ïÈÉ®‰ª•ÂÖÉÁ¥†ÁöÑ‰∏äÁ∫ø‰ΩçÁΩÆ‰∏∫ÂáÜ this.currentIndex = listHeight.length - 2 &#125;, diff(newVal) &#123; let fixedTop = (newVal &gt; 0 &amp;&amp; newVal &lt; TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0 if (this.fixedTop === fixedTop) &#123; return &#125; // ÂΩìÂÅèÁßªÈáèÂ∞è‰∫étitleÁöÑÈ´òÂ∫¶Êó∂Êâçtransfrom ÂÖ∂ÂÆÉÊÉÖÂÜµ‰∏çÂèò‰æùÁÑ∂fixÂú®ÂàóË°®È°∂ÈÉ® this.fixedTop = fixedTop this.$refs.fixed.style.transform = `translate3d(0,$&#123;fixedTop&#125;px,0)` &#125; &#125;, components: &#123; Scroll &#125;&lt;/script&gt; ËææÂà∞Â∑¶Âè≥‰∫íÁõ∏ËÅîÂä®ÁöÑÊïàÊûú Âè≥‰æßÁÇπÂáªÂ∑¶‰æßÊªëÂä®Âà∞ÂØπÂ∫îÂÖÉÁ¥†ÔºåÂè≥‰æßÊªëÂä®ÔºåÊ†πÊçÆÂÅèÁßªÊØî‰æãÂ∑¶‰æßÊªëÂä®Âà∞ÂØπÂ∫î‰ΩçÁΩÆ Â∑¶‰æßÊªëÂä®Âà∞Êüê‰∏™Âå∫Èó¥ÔºåÂè≥‰æßÈ´ò‰∫Æ È°∂ÈÉ®Âõ∫ÂÆötitleÔºåÂú®ÊªëÂä®ÂÅèÁßªÂ∑ÆÂ∞è‰∫étitleÈ´òÂ∫¶Êó∂,fixedÊúâ‰∏™ËøáÊ∏°ÊïàÊûú„ÄÇ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ÁªÑ‰ª∂</tag>
        <tag>Â∞ÅË£Ö</tag>
        <tag>ÂºÄÂèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VuexÁöÑÂ≠¶‰π†Âèä‰ΩøÁî®]]></title>
    <url>%2F2018%2F03%2F24%2FVuex%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%8F%8A%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Ëß£ÂÜ≥Â§ö‰∏™ÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅÂÖ±‰∫´,Ëß£ÂÜ≥Ë∑ØÁî±Èó¥‰º†ÈÄíÂ§çÊùÇÊï∞ÊçÆ,‰æø‰∫éÁª¥Êä§„ÄÇ ÁõÆÂΩïÁªìÊûÑÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ã Êàë‰ª¨Âú®src‰∏ãÂª∫Á´ã‰∏Ä‰∏™storeÊñá‰ª∂Â§π ÂÖ∑‰ΩìÂ¶Ç‰∏ãÂõæ state.jsÈáåÊòØË¶ÅÁî®Âà∞ÁöÑÁä∂ÊÄÅÔºõ getters.jsÊòØÁî®Êù•Êò†Â∞ÑstateÈáåÁöÑÁä∂ÊÄÅÔºõ mutations.jsÊòØÊîπÂèòstateÈáåÁä∂ÊÄÅÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÔºåÂè™ËÉΩÂêåÊ≠•Êìç‰ΩúÔºõ mutations-types.jsÊòØÁªü‰∏ÄÁÆ°ÁêÜmutaionsÊñπÊ≥ïÂêçÁöÑ‰∏Ä‰∏™Êñá‰ª∂ÔºàÂ§ö‰∫∫Âçè‰ΩúÊó∂Êñπ‰æøÁÆ°ÁêÜÔºå‰πüÂèØ‰ª•‰∏çÁî®ÔºâÔºõ actions.js ‰∏çÁõ¥Êé•ÊîπÂèòstateÈáåÁöÑÁä∂ÊÄÅÔºåÈÄöËøácommit mutationsÈáåÁöÑÊñπÊ≥ïËøõË°åÊîπÂèòstate,Âπ∂‰∏îÂèØ‰ª•ÂàÜÂèëÂ§ö‰∏™mutaitonsÂπ∂‰∏îÂèØ‰ª•ËøõË°åÂºÇÊ≠•Êìç‰ΩúÔºõ index.js ÂÖ•Âè£Êñá‰ª∂ ‰æãÂ≠êÔºö‰æãÂ≠ê‰∏≠Áî®‰∫Üexport,export default ‰∏§Áßç‰∏çÂêåÁöÑÂØºÂá∫ËØ≠Ê≥ï Â¶ÇÊûú‰∏çÊ∏ÖÊ•öÂèØ‰ª•Êü•ÈòÖÂè¶‰∏ÄÁØáÊñáÁ´† ‚úå ÁÇπÂáªËøõÂÖ• javascriptÁöÑÊ®°ÂùóÂåñ state.js 1234567891011121314const state = &#123; singer: &#123;&#125;, playing: false, fullScreen: false, playList: [], sequenceList: [], currentIndex: -1, //Ê≠åÂçïËØ¶ÁªÜÂàóË°® disc: &#123;&#125;, // ÊéíË°åÂàóË°® topList: &#123;&#125;,&#125;export default state getters.js (ËøõË°åÊò†Â∞Ñstate) 123456789101112131415export const singer = state =&gt; state.singerexport const playing = state =&gt; state.playingexport const fullScreen = state =&gt; state.fullScreenexport const playList = state =&gt; state.playListexport const sequenceList = state =&gt; state.sequenceListexport const currentIndex = state =&gt; state.currentIndexexport const disc = state =&gt; state.discexport const topList = state =&gt; state.topList mutations-types.js (Áªü‰∏ÄÁÆ°ÁêÜmutationsÊñπÊ≥ïÂêçÁß∞Â∏∏Èáè) 123456789101112131415export const SET_SINGER = 'SET_SINGER'export const SET_PLAYING_STATE = 'SET_PLAYING_STATE'export const SET_FULL_SCREEN = 'SET_FULL_SCREEN'export const SET_PLAYLIST = 'SET_PLAYLIST'export const SET_SEQUENCE_LIST = 'SET_SEQUENCE_LIST'export const SET_CURRENT_INDEX = 'SET_CURRENT_INDEX'export const SET_DISC = 'SET_DISC'export const SET_TOP_LIST = 'SET_TOP_LIST' mutations.js (ÊîπÂèòstateÁöÑ‰∏Ä‰∫õÊñπÊ≥ï) 123456789101112131415161718192021222324252627282930import * as types from './mutations-types' const mutations = &#123; [types.SET_SINGER] (state, singer) &#123; state.singer = singer &#125;, [types.SET_PLAYING_STATE](state, flag) &#123; state.playing = flag &#125;, [types.SET_FULL_SCREEN](state, flag) &#123; state.fullScreen = flag &#125;, [types.SET_PLAYLIST](state, list) &#123; state.playList = list &#125;, [types.SET_SEQUENCE_LIST](state, list) &#123; state.sequenceList = list &#125;, [types.SET_CURRENT_INDEX](state, index) &#123; state.currentIndex = index &#125;, [types.SET_DISC](state, disc) &#123; state.disc = disc &#125;, [types.SET_TOP_LIST](state, topList) &#123; state.topList = topList &#125;&#125;export default mutations actions.js(Ê¥æÂèëÂ§ö‰∏™mutationsÊàñËøõË°åÂºÇÊ≠•Êìç‰Ωú) Âú® store ‰∏äÊ≥®ÂÜå action„ÄÇÂ§ÑÁêÜÂáΩÊï∞ÊÄªÊòØÊé•Âèó context ‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ôºåpayload ‰Ωú‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºàÂèØÈÄâÔºâ„ÄÇ contextÂåÖÂê´‰ª•‰∏ãÂ±ûÊÄßÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂèØÈÄâÔºàË∞ÉÁî®Êó∂‰º†ÂÖ•ÁöÑÂèÇÊï∞Ôºâ 12345678&#123; state, // Á≠âÂêå‰∫é `store.state`ÔºåËã•Âú®Ê®°Âùó‰∏≠Âàô‰∏∫Â±ÄÈÉ®Áä∂ÊÄÅ rootState, // Á≠âÂêå‰∫é `store.state`ÔºåÂè™Â≠òÂú®‰∫éÊ®°Âùó‰∏≠ commit, // Á≠âÂêå‰∫é `store.commit` dispatch, // Á≠âÂêå‰∫é `store.dispatch` getters, // Á≠âÂêå‰∫é `store.getters` rootGetters // Á≠âÂêå‰∫é `store.getters`ÔºåÂè™Â≠òÂú®‰∫éÊ®°Âùó‰∏≠&#125; ‰∏ãÈù¢Áî®‰∫ÜÁªìÊûÑËµãÂÄº Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Âè™Êé•Êî∂commit,Êúâ‰∫õÂú∫ÊôØ‰πüÈúÄË¶ÅÊé•Êî∂state {commit, state} 12345678import * as types from './mutations-types' // Ê∏ÖÁ©∫Êí≠ÊîæÂàóË°® export const deleteSongLits = function(&#123;commit&#125;, val) &#123; commit(types.SET_PLAYLIST, []) commit(types.SET_SEQUENCE_LIST, []) commit(types.SET_CURRENT_INDEX, -1) commit(types.SET_PLAYING_STATE, false) &#125; index.js (vuexÂÖ•Âè£Êñá‰ª∂) 12345678910111213141516171819202122import Vue from 'vue'import Vuex from 'vuex'import * as actions from './actions'import * as getters from './getters'import state from './state'import mutations from './mutations'// ÂÜÖÁΩÆÁöÑloggerÊèí‰ª∂ Êó•ÂøóÊèí‰ª∂ÂèØ‰ª•Âú®ÊéßÂà∂Âè∞Êü•ÁúãvuexÁöÑ‰ø°ÊÅØËøõË°åË∞ÉËØïimport createLogger from 'vuex/dist/logger'Vue.use(Vuex)// run devÊó∂ debug‰∏∫trueconst debug = process.env.NODE_EN !== 'production'export default new Vuex.Store(&#123; actions, getters, state, mutations, // strict ‰∏•Ê†ºÊ®°Âºè true‰∏∫ÂºÄÂêØ // ‰ªª‰Ωï mutation Â§ÑÁêÜÂáΩÊï∞‰ª•Â§ñ‰øÆÊîπ Vuex state ÈÉΩ‰ºöÊäõÂá∫ÈîôËØØ strict: debug, plugins: debug ? [createLogger()] : []&#125;) Âú®È°πÁõÆÁöÑÂÖ•Âè£Êñá‰ª∂main.js‰∏≠Â∞ÜËØ• Store ÂÆû‰æãÊ∑ªÂä†Âà∞ÊûÑÈÄ†ÁöÑ Vue ÂÆû‰æã‰∏≠main.js 12345678910111213141516171819202122import Vue from 'vue'import App from './App'import router from './router'import fastclick from 'fastclick'import 'babel-polyfill'import 'common/stylus/index.styl'import VueLazyLoad from 'vue-lazyload'import store from './store' // ÂºïÂÖ•storeVue.config.productionTip = falsefastclick.attach(document.body)Vue.use(VueLazyLoad, &#123; loading: require('common/image/logo@2x.png')&#125;)/* eslint-disable no-new */new Vue(&#123; el: '#app', router, store,// Ê∑ªÂä†Âà∞VueÂÆû‰æã‰∏≠ render: h =&gt; h(App)&#125;) Âà©Áî®ËæÖÂä©ÂáΩÊï∞Âú®ÁªÑ‰ª∂‰∏≠Ëé∑Âèñstate,Êò†Â∞Ñgetter,Êèê‰∫§mutation,ÂàÜÂèëaction1234567891011121314151617181920212223242526272829303132import &#123; mapState, mapMutations, mapActions &#125; from 'vuex'export default &#123; computed: &#123; ...mapState([ // Êò†Â∞Ñ this.singer ‰∏∫ store.state.singer 'singer' ]), // Êää `this.playing` Êò†Â∞Ñ‰∏∫ `this.$store.getters.playing` ...mapGetters(['playing']) &#125;, methods: &#123; ...mapMutations([ 'SET_SINGER', // Â∞Ü `this.SET_SINGER()` Êò†Â∞Ñ‰∏∫ `this.$store.commit('SET_SINGER')` // `mapMutations` ‰πüÊîØÊåÅËΩΩËç∑Ôºö 'SET_SINGER' // Â∞Ü `this.SET_SINGER(amount)` Êò†Â∞Ñ‰∏∫ `this.$store.commit('SET_SINGER', amount)` ]), ...mapMutations(&#123; setSinger: 'SET_SINGER' // Â∞Ü `this.setSinger()` Êò†Â∞Ñ‰∏∫ `this.$store.commit('SET_SINGER')` &#125;) ...mapActions([ 'deleteSongLits', // Â∞Ü `this.deleteSongLits()` Êò†Â∞Ñ‰∏∫ `this.$store.dispatch('deleteSongLits')` // `mapActions` ‰πüÊîØÊåÅËΩΩËç∑Ôºö // 'deleteSongLits' // Â∞Ü `this.deleteSongLits(amount)` Êò†Â∞Ñ‰∏∫ `this.$store.dispatch('deleteSongLits', amount)` ]), ...mapActions(&#123; empty: 'deleteSongLits' // Â∞Ü `this.empty()` Êò†Â∞Ñ‰∏∫ `this.$store.dispatch('deleteSongLits')` &#125;) &#125;&#125; vuexÁöÑÂàÜÂâ≤Ê®°Âùó‰ª•vue-element-adminÁöÑstore‰∏∫‰æã ‚úå ÁÇπÂáª‰º†ÈÄÅ ÁõÆÂΩïÁªìÊûÑ: index.js ÂÖ•Âè£Êñá‰ª∂ getter.js stateÁöÑÊò†Â∞Ñ modulesÊ®°ÂùóÊñá‰ª∂Â§πÔºåÈáåÈù¢‰∏∫‰∏Ä‰∏™‰∏™vuexÊ®°Âùó ‰ª•errorLogÊ®°Âùó‰∏∫‰æã 123456789101112131415161718const errorLog = &#123; state: &#123; logs: [] &#125;, mutations: &#123; ADD_ERROR_LOG: (state, log) =&gt; &#123; state.logs.push(log) &#125; &#125;, actions: &#123; addErrorLog(&#123; commit &#125;, log) &#123; commit('ADD_ERROR_LOG', log) &#125; &#125;&#125;export default errorLog// ÂØºÂá∫‰∏Ä‰∏™ÂØπË±° Êúâsate, mutations, actionsÁöÑÂØπË±° getter.js stateÁöÑÊò†Â∞Ñ 1234const getters = &#123; errorLogs: state =&gt; state.errorLog.logs&#125;export default getters index.js vuexÂÖ•Âè£Êñá‰ª∂ 123456789101112131415161718192021222324import Vue from 'vue'import Vuex from 'vuex'import app from './modules/app'import errorLog from './modules/errorLog'import permission from './modules/permission'import tagsView from './modules/tagsView'import user from './modules/user'import getters from './getters'// Âä†ËΩΩÊØè‰∏Ä‰∏™Ê®°ÂùóVue.use(Vuex)const store = new Vuex.Store(&#123; // Ê≥®ÂÖ•modulesÂØπË±°‰∏≠ modules: &#123; app, errorLog, permission, tagsView, user &#125;, getters&#125;)export default store main.js È°πÁõÆÂÖ•Âè£Êñá‰ª∂ 12345678910import store from './store' // Âä†ËΩΩstorenew Vue(&#123; el: '#app', router, store, // ÊåÇÂú®Âà∞VueÂÆû‰æã i18n, template: '&lt;App/&gt;', components: &#123; App &#125;&#125;) Ê®°ÂùóÂÜôÊ≥ïÂè™ÊòØÂ∞Üstate,mutations,actionsÂÜôÂà∞‰∫Ü‰∏çÂêåÁöÑÂäüËÉΩÊ®°Âùó‰∏≠ÔºåÂπ∂‰∏îÂàÜÂà´Âä†ËΩΩÂπ∂ÊåÇÂú®Âà∞VuexÂÆû‰æã‰∏≠ÔºåÂ§ö‰∫∫ÂÜô‰ΩúÊàñËÄÖÂäüËÉΩÊ®°ÂùóËæÉÂ§öÁöÑÈ°πÁõÆÊé®ËçêËøôÁßçÂÜôÊ≥ï VuexÊï∞ÊçÆÊåÅ‰πÖÂåñÔºåÁªìÂêàlocalStoragevuexÂà∑Êñ∞ÂêéÂ∞±‰ºöÊ∂àÂ§±, ÂæàÂ§öÂ∫îÁî®Âú∫ÊôØÂà∑Êñ∞Ë¶Å‰øùÁïôÊï∞ÊçÆ ÁªìÂêàÊú¨Âú∞Â≠òÂÇ®Âè™Ë¶Å‰∏çÊâãÂä®Ê∏ÖÈô§ÔºåÂ∞±‰∏ÄÁõ¥Â≠òÂú® ÊÄùË∑Ø ÊúÄÂ•ΩÊòØÂÜô‰∏Ä‰∏™jsÊñá‰ª∂,Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÂÜôlocalStorageÁöÑsetÂíågetÂíåÁßªÈô§ÊàñÊ∏ÖÁ©∫ stateÈáåÁöÑÊï∞ÊçÆÁõ¥Êé•Ëé∑ÂèñlocalStorageÂ≠òÂÇ®ÁöÑÊï∞ÊçÆ mutaionsÊàñactionsÊñπÊ≥ïÈáåË∞ÉÁî®jsÊñá‰ª∂‰∏≠ÊòØset get ÁßªÈô§ Ê∏ÖÁ©∫Á≠âÊñπÊ≥ï demoÂÜôset getÊñπÊ≥ïÁöÑÊñá‰ª∂ cache.js 1234567891011121314151617181920212223242526272829303132333435import storage from 'good-storage'const SEARCH_KEY = '__search__'const SEARCH_MAX_LENGTH = 15// ‰øùÂ≠òÊêúÁ¥¢ÂéÜÂè≤export function saveSearch(query) &#123; // Êú¨Âú∞Â≠òÂÇ®Êï∞ÁªÑ let searches = storage.get(SEARCH_KEY, []) // ËøõË°åÊØîËæÉÂêéÊèíÂÖ• insertArray(searches, query, (item) =&gt; &#123; return item === query &#125;, SEARCH_MAX_LENGTH) // ‰øùÂ≠ò storage.set(SEARCH_KEY, searches) return searches&#125;export function loadSearch() &#123; return storage.get(SEARCH_KEY, [])&#125;// Âà†Èô§‰∏Ä‰∏™export function deleteSearch(query) &#123; let searches = storage.get(SEARCH_KEY, []) deleteFromArray(searches, (item) =&gt; &#123; return item === query &#125;) storage.set(SEARCH_KEY, searches) return searches&#125;export function clearSearch() &#123; storage.remove(SEARCH_KEY) return []&#125; state.js (Ëé∑ÂèñÂ≠òÂÇ®) 12345678import &#123;loadSearch&#125; from 'common/js/cache'const state = &#123; // ÊêúÁ¥¢ÂéÜÂè≤ searchHistory: loadSearch(),&#125;export default state mutations.js 12345678910import * as types from './mutations-types' const mutations = &#123; [types.SET_SEARCH_HISTORY](state, history) &#123; state.searchHistory = history &#125;&#125;export default mutations actions.js (Êõ¥Êñ∞Â≠òÂÇ®) 123456789101112131415import * as types from './mutations-types'import &#123;saveSearch, deleteSearch, clearSearch,&#125; from 'common/js/cache' // ÊêúÁ¥¢ÂéÜÂè≤Áõ∏ÂÖ≥ export const saveSearchHistory = function(&#123;commit&#125;, query) &#123; commit(types.SET_SEARCH_HISTORY, saveSearch(query)) &#125; export const deleteSearchHistory = function(&#123;commit&#125;, query) &#123; commit(types.SET_SEARCH_HISTORY, deleteSearch(query)) &#125; export const clearSearchHistory = function(&#123;commit&#125;) &#123; commit(types.SET_SEARCH_HISTORY, clearSearch()) &#125; ÂΩìÊ¥æÂèëactionsÊó∂‰ºöÂÅöÂØπÂ∫îÁöÑÂ≠òÂÇ®Êìç‰ΩúÔºåstate‰ºöÊãøÂà∞Êú¨Âú∞Â≠òÂÇ®ÁöÑÊï∞ÊçÆ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Vuex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsonpÁöÑÂéüÁêÜÂíå‰ΩøÁî®]]></title>
    <url>%2F2018%2F03%2F15%2Fjsonp%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•‰∏çÂÖÅËÆ∏Ë∑®ÂüüÔºåjsonpÊòØËß£ÂÜ≥Ë∑®ÂüüÁöÑ‰∏ÄÁßçÊñπÊ≥ï„ÄÇ‰ΩÜ‰πüÂ≠òÂú®‰∏Ä‰∫õÁº∫ÁÇπÔºåÊâÄ‰ª•Ë∑®ÂüüÊúÄÂ•ΩËøòÊòØÂêéÂè∞ËøõË°åËÆæÁΩÆ. ÂéüÁêÜ Âà©Áî®scriptÊ†áÁ≠æÁöÑsrcÂ±ûÊÄß‰∏çÂèóÂêåÊ∫êÁ≠ñÁï•ÂΩ±ÂìçÔºàÂçèËÆÆÔºåÁ´ØÂè£ÔºåÂüüÂêç‰ªª‰Ωï‰∏Ä‰∏™‰∏çÂêåÔºåÂêåÊ∫êÁ≠ñÁï•ÈÉΩ‰ºöÁ¶ÅÊ≠¢Ë∑®ÂüüÔºâ ÈÄöËøáÂâçÁ´ØÊñπÊ≥ï‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂà∞ÊúçÂä°Âô®ÔºåÊúçÂä°Âô®Ê≥®ÂÖ•ÂèÇÊï∞ÂêéÂÜçËøîËøòÔºåÂÆûÁé∞ÊúçÂä°Âô®ÂêëÂÆ¢Êà∑ÈÄö‰ø° Âè™ÊîØÊåÅgetÊñπÊ≥ï ËØ∑Ê±ÇËøáÁ®ã ËØ∑Ê±ÇÂâçÔºöÂàõÂª∫‰∏Ä‰∏™scriptÊ†áÁ≠æÔºåÂπ∂ÁªôsrcËµãÂÄº url+callbackÁöÑÊñπÊ≥ïÂêçÔºåÂπ∂Âú®window‰∏äÊ≥®ÂÜåËøô‰∏™ÊñπÊ≥ï ÂèëÈÄÅËØ∑Ê±ÇÔºö Â∞ÜscriptÊ∑ªÂä†Âà∞È°µÈù¢‰∏≠ÔºåÊµèËßàÂô®‰ºöÂèëËµ∑‰∏Ä‰∏™ËØ∑Ê±Ç Êï∞ÊçÆÂìçÂ∫îÔºöÊúçÂä°Âô®Â∞ÜËøîÂõûÁöÑÊï∞ÊçÆ‰Ωú‰∏∫ÂèÇÊï∞ÂíåÂáΩÊï∞ÂêçÊãºÊé•Âú®‰∏ÄËµ∑ jsonpCbk({data:‚Äùdata‚Äù})„ÄÇÂΩìÊµèËßàÂô®Êé•Êî∂Âà∞ÂìçÂ∫îÊï∞ÊçÆÔºåÁî±‰∫éÂèëËµ∑ËØ∑Ê±ÇÁöÑÊòØscriptÔºåÊâÄ‰ª•Áõ∏ÂΩì‰∫éÁõ¥Êé•Ë∞ÉÁî®jsonpCbkÊñπÊ≥ïÔºåÂπ∂‰∏îÁªôÂõûË∞É‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞„ÄÇ ÂéüÁîüjsÂÜô‰∏Ä‰∏™jsonp12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// urlË¶ÅËØ∑Ê±ÇÁöÑÂú∞ÂùÄ‰ª•ÂèäÊãºÊé•ÁöÑÂèÇÊï∞Ôºõopts&#123;param: Á∫¶ÂÆöÁöÑÂáΩÊï∞ÂèÇÊï∞Ôºåtimeout:Ë∂ÖÊó∂Êó∂Èó¥Ôºåname:ÊåáÂÆöÁöÑÂáΩÊï∞ÂêçÔºåprefix:ÊåáÂÆöÁöÑÂáΩÊï∞ÂêçÂâçÁºÄ&#125;ÔºõfnÂõûË∞ÉÂáΩÊï∞var count = 0function noop()&#123;&#125;function jsonp(url, opts, fn) &#123; // opts Â¶ÇÊûúÊòØ‰∏Ä‰∏™ÂáΩÊï∞ ËµãÂÄºÁªôfn Âπ∂ÈáçÁΩÆopts‰∏∫Á©∫ÂØπË±° if('function' == typeof opts)&#123; fn = opts opts = &#123;&#125; &#125; // Â¶ÇÊûúÊ≤°Êúâopts ÁªôoptsËµãÂÄºÁ©∫ÂØπË±° if(!opts) opts = &#123;&#125; var prefix = opts.prefix || '__jp' // id‰∏∫optsÁöÑnameÊàñËÄÖprefix+ËÆ°Êï∞Ôºàprefix‰∏∫opts.prefixÊàñ__jpÔºâ var id = opts.name || (prefix + (count++)) var param = opts.param || 'callback' // Êúâopts.timeout Â∞±Âèñ Ê≤°ÊúâÂ∞±ÊòØ60000ms var timeout = null != opts.timeout ? opts.timeout : 60000 var enc = encodeURIComponent // Á¨¨‰∏Ä‰∏™scriptÊàñËÄÖheadÊ†áÁ≠æ var target = document.getElementsByTagName('script')[0] || document.head var script var timer // Â¶ÇÊûúÊúâtimeoutÂ∞±Âú®timeout‰πãÂêéÊâßË°åcleanÂπ∂ÊäõÂá∫Error if (timeout) &#123; timer = setTimeout(function()&#123; cleanup() if(fn) fn(new Error('Timeout')) &#125;, timeout) &#125; function cleanup() &#123; // ÁßªÈô§ÂàõÂª∫ÁöÑscript ÂõûË∞ÉÂáΩÊï∞ÁΩÆÁ©∫ Ê∏ÖÈô§ÂÆöÊó∂Âô® if(script.parentNode) script.parentNode.removeChild(script) window[id] = noop if(timer) clearTimeout(timer) &#125; function cancel() &#123; if(window[id]) &#123; cleanup() &#125; &#125; // ÂÖ®Â±ÄÊåÇËΩΩid window[id] = function(data) &#123; cleanup() // ËØ∑Ê±ÇËøîÂõûÂêéÊâßË°åÂõûË∞Éfn if(fn) fn(data) &#125; url += (~url.indexOf('?') ? '&amp;' : '?') + param + '=' + enc(id); url = url.replace('?&amp;', '?'); // ÂàõÂª∫scriptÊ†áÁ≠æsrcÂ±ûÊÄßËµãÂÄºurl script = document.createElement('script') script.src = url; // ÊèíÂÖ•Âà∞headÊàñscriptÁöÑÂâçÈù¢ target.parentNode.insertBefore(script, target); return cancel; &#125; ‰ª•‰∏äÊòØÂèÇÁÖß‰∏Ä‰∏™jsonpÊèí‰ª∂ÁöÑÊ∫êÁ†ÅÂÜôÁöÑ ‰º†ÈÄÅÈó® Ê≠§ÊñπÊ≥ïÂú®Ë∞ÉÁî®Êó∂ÈúÄË¶ÅËá™Â∑±ÊãºÊé•Â∞ÜÂèÇÊï∞ÊãºÊé•Âú®urlÂêéÈù¢ optsÂ¶ÇÊûúË∑üÂêéÂè∞ÊúâÁ∫¶ÂÆöcallbackÂèÇÊï∞ÂêçÂ∞±‰º†{param: Á∫¶ÂÆöÂèÇÊï∞Âêç} ÔºåÊ≤°ÊúâÈªòËÆ§callback]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÈ¶ñÂ±è‰ºòÂåñ‰πãË∑ØÁî±ÊáíÂä†ËΩΩ]]></title>
    <url>%2F2018%2F03%2F10%2FrouterLazy%2F</url>
    <content type="text"><![CDATA[È°πÁõÆÊØîËæÉÂ§ßÊó∂buildÂêéÈ¶ñÊ¨°Âä†ËΩΩ‰ºöÊúâÂæàÊÖ¢ÁöÑÈóÆÈ¢ò,Ë∑ØÁî±ÊáíÂä†ËΩΩÂ∞±ÊòØ‰ºòÂåñÂä†ËΩΩÈÄüÂ∫¶ÁöÑÊñπÊ≥ï‰πã‰∏Ä Ë∑ØÁî±ÊáíÂä†ËΩΩ‰ºòÂåñÈ¶ñÂ±èÂä†ËΩΩÈÄüÂ∫¶È¶ñÂÖàË¥¥‰∏™ÂÆòÊñπÊñáÊ°£ 1. Ë∑ØÁî±ÈÖçÁΩÆÂ¶Ç‰∏ã123456789101112131415161718192021222324252627282930// router Êñá‰ª∂Â§π‰∏ãÁöÑindex.jsÊñá‰ª∂import Vue from 'vue'improt VueRouter from 'vue-router'improt Holly from '@/pages/Holly' // ÊüêÈ°µÈù¢Vue.use(VueRouter)// ÈùûÊáíÂä†ËΩΩ/* const routes = [ &#123; path: '/', name: 'holly', component: Holly &#125;] */// ÊáíÂä†ËΩΩconst routes= [ &#123; path: '/', name: 'holly', componet: () =&gt; improt('@/pages/Holly') //ÂÖ∂ÂÆûÂ∞±Áõ∏ÂΩì‰∫éÊåâÈúÄÂä†ËΩΩ &#125;] //ÂÆû‰æãÂåñconst router = new VueRouter(&#123; routes&#125;)export default router ËøôÂ∞±ÊòØÂ∞Ü‰∏çÂêåË∑ØÁî±ÂØπÂ∫îÁöÑÁªÑ‰ª∂ÂàÜÂâ≤Êàê‰∏çÂêåÁöÑ‰ª£Á†ÅÂùóÔºåÁÑ∂ÂêéÂΩìË∑ØÁî±Ë¢´ËÆøÈóÆÊó∂ÊâçÂä†ËΩΩÂØπÂ∫îÁªÑ‰ª∂„ÄÇ 2. main.jsÂÖ•Âè£Êñá‰ª∂ÂÖ≥‰∫éË∑ØÁî±ÁöÑÈÖçÁΩÆ1234567improt router from './router' //ÂºïÂÖ•Ë∑ØÁî±ÈÖçÁΩÆÊñá‰ª∂new Vue(&#123; el: '#app', router, // Ê≥®ÂÖ•Âà∞Ê†πÂÆû‰æã‰∏≠ render: h =&gt; h(App)&#125;) ‰ªäÂ§©ÊääÈ°πÁõÆÂÅö‰∫ÜË∑ØÁî±ÊáíÂä†ËΩΩÁöÑ‰ºòÂåñÔºåÈ¶ñÂ±èÂø´‰∫ÜÂá†Áßí~ üòÑ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>‰ºòÂåñ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âà©Áî®vue-cliÂàùÂßãÂåñÈ°πÁõÆ]]></title>
    <url>%2F2018%2F03%2F09%2Fvue-cli-init-project%2F</url>
    <content type="text"><![CDATA[ÂèØ‰ª•Âø´ÈÄüÂàùÂßãÂåñvueÈ°πÁõÆÔºåÊèê‰æõ‰∏ÄÂ•óÊú¨Âú∞nodeÊµãËØïÊúçÂä°Âô®ÔºåÈõÜÊàêÊâìÂåÖ‰∏äÁ∫øÊñπÊ°à Âà©Áî®vue-cliËÑöÊâãÊû∂ÂàùÂßãÂåñÈ°πÁõÆ1. È¶ñÂÖàÁîµËÑëÈúÄË¶ÅÂÆâË£ÖÂ•ΩnodeÂíåÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑ ÂéªÂÆòÁΩë‰∏ãËΩΩnodeÁ®≥ÂÆöÁâàÊú¨ ÁÇπÂáª‰º†ÈÄÅÈó® ËÆ∞Âæó‰∏ãËΩΩ.msiÊ†ºÂºèÁöÑÔºåÂèØ‰ª•ÈÅøÂÖçÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè npmÔºànodeÂÆâË£Ö‰ª•ÂêéËá™Â∏¶npmÔºâ Â¶ÇÊûúÊÉ≥‰ΩøÁî®cnpm ÈúÄË¶ÅÂÆâË£Ö‰∏Ä‰∏ã 12npm install -g cnpm --registry=https://registry.npm.taobao.org// ÈÄöÂ∏∏npm‰∏ãËΩΩÈÄüÂ∫¶ÊØîËæÉÊÖ¢ÊâÄ‰ª•ÂæàÂ§ö‰∫∫‰ºöÈÄâÊã©cnpmÊ∑òÂÆùÈïúÂÉè Â¶ÇÊûúÊÉ≥‰ΩøÁî®yarn ÈúÄË¶ÅÂÆâË£Ö‰∏Ä‰∏ã 12npm install -g yarn// Âè™ÊòØÂëΩ‰ª§‰∏ä‰∏énpmÂíåcnpmÊúâ‰∫õÂá∫ÂÖ•Ë¶ÅÁúãÊñáÊ°£ ÂÖ∑‰ΩìÁöÑÂëΩ‰ª§ÂèØ‰ª•Êü•ÁúãÂØπÂ∫îÁöÑÂÆòÊñπÊñáÊ°£ 2.Êé•‰∏ãÊù•ÊòØÂÆâË£Ö‰∏Ä‰∏™Âº∫Â§ßÁöÑÁºñËØëÂ∑•ÂÖ∑ webpackÂíåvueËÑöÊâãÊû∂ ÊàëÈÄöÂ∏∏Áî®cnpmË£Ö 12345678910// ÂÖ®Â±ÄÂÆâË£Öwebpackcnpm install webpack -g// ÂÖ®Â±ÄÂÆâË£Övue-clicnpm install vue-cli -g// Ê£ÄÊµãvueÁâàÊú¨ -VÂ§ßÂÜôvue -V// Ê£ÄÊµãnodeÁâàÊú¨ -vÂ∞èÂÜônode -v// npm ÁâàÊú¨npm -v 3. ÂàùÂßãÂåñÈ°πÁõÆ ËæìÂÖ•‰∏Ä‰∫õÂëΩ‰ª§ 12345678910111213141516vue init webpack myProject //myproject ‰∏∫È°πÁõÆÂêçÁß∞// ÂõûËΩ¶‰ª•Âêé‰ºöËØ¢ÈóÆÂá†‰∏™ÁÆÄÂçïÁöÑÈÄâÈ°π Êàë‰ª¨ËøõË°åÂ°´ÂÜô ‰∏ÄË∑ØÂ°´ÂÜô+ÂõûËΩ¶Project name : myproject// Â¶ÇÊûú‰∏çÈúÄË¶ÅÊõ¥ÊîπÁõ¥Êé•ÂõûËΩ¶Â∞±ÂèØ‰ª•‰∫Ü„ÄÇÊ≥®ÊÑèÔºöËøôÈáå‰∏çËÉΩ‰ΩøÁî®Â§ßÂÜôÔºåÊâÄ‰ª•ÊàëÊääÂêçÁß∞ÊîπÊàê‰∫ÜmyprojectProject description: // È°πÁõÆÊèèËø∞ ÈªòËÆ§‰∏∫A Vue.js project,Áõ¥Êé•ÂõûËΩ¶Ôºå‰∏çÁî®ÁºñÂÜô„ÄÇAuthorÔºö// ‰ΩúËÄÖ Â¶ÇÊûú‰Ω†ÊúâÈÖçÁΩÆgitÁöÑ‰ΩúËÄÖÔºå‰ªñ‰ºöËØªÂèñ„ÄÇInstall vue-router ? // ÊòØÂê¶ÂÆâË£ÖvueÁöÑË∑ØÁî±Êèí‰ª∂ÔºåÊàë‰ª¨ËøôÈáåÈúÄË¶ÅÂÆâË£ÖÔºåÊâÄ‰ª•ÈÄâÊã©YUse ESLint to lint your code?// ÊòØÂê¶Áî®ESLintÊù•ÈôêÂà∂‰Ω†ÁöÑ‰ª£Á†ÅÈîôËØØÂíåÈ£éÊ†º„ÄÇÊàë‰ª¨ËøôÈáå‰∏çÈúÄË¶ÅËæìÂÖ•nÔºåÂ¶ÇÊûú‰Ω†ÊòØÂ§ßÂûãÂõ¢ÈòüÂºÄÂèëÔºåÊúÄÂ•ΩÊòØËøõË°åÈÖçÁΩÆ„ÄÇsetup unit tests with Karma + Mocha? // ÊòØÂê¶ÈúÄË¶ÅÂÆâË£ÖÂçïÂÖÉÊµãËØïÂ∑•ÂÖ∑Karma+MochaÔºåÊàë‰ª¨ËøôÈáå‰∏çÈúÄË¶ÅÔºåÊâÄ‰ª•ËæìÂÖ•n„ÄÇSetup e2e tests with Nightwatch?// ÊòØÂê¶ÂÆâË£Öe2eÊù•ËøõË°åÁî®Êà∑Ë°å‰∏∫Ê®°ÊãüÊµãËØïÔºåÊàë‰ª¨ËøôÈáå‰∏çÈúÄË¶ÅÔºåÊâÄ‰ª•ËæìÂÖ•n„ÄÇ 4. ‰∏ãËΩΩ‰æùËµñÂåÖÂèäËøêË°åÈ°πÁõÆ cnpm i ÂåÖÈÉΩ‰∏ãËΩΩÂ•Ω‰ª•Âêé npm run dev È°πÁõÆÂ∞±Âú®Êú¨Âú∞Ë∑ëËµ∑Êù•‰∫Ü ÊµèËßàÂô®‰∏≠ÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆ 5.ÊúâÂá†‰∏™ÈáçË¶ÅÁöÑÊñá‰ª∂,ÁÆÄÂçïÁöÑËÆ§ËØÜ‰∏Ä‰∏ã package.json scripts: ÂëΩ‰ª§Ë°åÈáåÊâßË°åÁöÑÂëΩ‰ª§ÂÖ∑‰ΩìÂÅö‰∫Ü‰ªÄ‰πàÔºå‰∏éËøôÈáå‰∏Ä ‰∏ÄÂØπÂ∫î ‰æãÂ¶Çnpm run dev dependenciesÔºöÁîü‰∫ßÁéØÂ¢É‰ª•Êù•ÁöÑÂåÖÔºåÂØπÂ∫î‚Äìsave devDependencies: ÂºÄÂèëÁéØÂ¢É‰∏≠‰ª•Êù•ÁöÑÂåÖ ÂØπÂ∫î‚Äìsave-dev webpack.base.config.js webpackÁöÑÂü∫Êú¨ÈÖçÁΩÆÊñá‰ª∂ entryÂÖ•Âè£Êñá‰ª∂ outputÂá∫Âè£Êñá‰ª∂ babelrc es6ËΩ¨Âåñ‰∏∫es5ÁöÑÈÖçÁΩÆ 6. È°πÁõÆÊâìÂåÖ‰∏äÁ∫ø ÊâßË°åÂëΩ‰ª§ 12npm run build// ÈªòËÆ§Áîü‰∫ßdistÁõÆÂΩï ÈáåÈù¢ÊòØÊâìÂåÖÂ•ΩÁöÑÈùôÊÄÅÊñá‰ª∂ ÂèØ‰ª•ÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô® ‚Äã]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ÂºÄÂèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±Êã∑Ë¥ù‰∏éÊµÖÊã∑Ë¥ù]]></title>
    <url>%2F2018%2F03%2F02%2FcopyDeep%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂ∑•‰Ωú‰∏≠‰∏Ä‰∏™ÁÆÄÂçïÁöÑËµãÂÄºÔºåÂºïÂèë‰∫Ü‰∏Ä‰∏™ÂæàÂ•áÊÄ™ÁöÑ bug„ÄÇÊâÄ‰ª•Ê∑±Êã∑Ë¥ùÂíåÊµÖÊã∑Ë¥ùËøòÊòØÈùûÂ∏∏ÊúâÂøÖË¶ÅÂºÑÊ∏ÖÊ•öÁöÑ„ÄÇ 1.È¶ñÂÖàÁúãÁúã js Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂíåÂºïÁî®Á±ªÂûãÁöÑÂå∫Âà´ Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºöString , Number, Boolean, Null, Undefined Â≠òÊîæÂú®Ê†àÂÜÖÂ≠ò‰∏≠„ÄÇÁõ¥Êé•ÊåâÂÄºÂ≠òÊîæÔºåÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆ„ÄÇ ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºöArray, Object, Function Á≠âÔºõÂ≠òÊîæÂú®Â†ÜÂÜÖÂ≠ò‰∏≠ÔºåÂèòÈáèÂÆûÈôÖ‰øùÂ≠òÊòØ‰øùÂ≠òÂú®Ê†à‰∏≠ÁöÑ‰∏Ä‰∏™Âú∞ÂùÄÔºåÊåáÂêëÂ†Ü‰∏≠ÂÖ∑‰ΩìÁöÑ‰ΩçÁΩÆ„ÄÇ‰ªéÊ†à‰∏≠Ëé∑ÂèñÂú∞ÂùÄÂÜç‰ªéÂ†ÜÂÜÖÂ≠ò‰∏≠ÂèñÂà∞Êï∞ÊçÆ„ÄÇ 2.ËµãÂÄºÔºåÊã∑Ë¥ù Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÊã∑Ë¥ùÁöÑÊó∂ÂÄôÔºåÂú®Â†ÜÂÜÖÂ≠ò‰∏≠ÂºÄËæü‰∫ÜÊñ∞ÁöÑÁ©∫Èó¥ÔºåÂíåÂéüÊù•ÁöÑÂèòÈáè‰∫í‰∏çÁõ∏Âπ≤„ÄÇ‰∏çÁî®ËÄÉËôëÊ∑±Êã∑Ë¥ùÊµÖÊã∑Ë¥ùÁöÑÈóÆÈ¢ò„ÄÇ ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÂú®Áî®=Âè∑ËµãÂÄºÊó∂ÔºåÂÆûÈôÖ‰∏äÊòØÂ∞ÜÊ†à‰∏≠ÁöÑÂú∞ÂùÄËµãÂÄºÁªôÊñ∞ÁöÑÂèòÈáè„ÄÇÊâÄ‰ª•ÂΩìÊîπÂèòËøô‰∏™Êñ∞ÁöÑÂèòÈáèÈáåÁöÑÊï∞ÊçÆÊó∂ÔºåÊåáÂêëÁöÑÂ†Ü‰∏≠ÁöÑÊï∞ÊçÆ‰πüÊòØ‰ºöÊúâÂèòÂåñÁöÑ„ÄÇÔºàÊàëÈÇ£‰∏™ bug ‰πüÂ∞±ÊòØËøô‰∏™ÈóÆÈ¢òÔºâ 12345let a = 123let b = aa = 1234console.log(a) // 1234console.log(b) // 123 Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂ§çÂà∂‰∏ç‰ºöÂèëÁîüÂºïÁî®, Ê†à‰∏≠‰ºöÂºÄËæüÊñ∞ÁöÑÁ©∫Èó¥Â≠òÊîæ 12345let arr = [1, 2, 3]let arr1 = arrarr[0] = 3console.log(arr) // [3, 2, 3]console.log(arr1) // [3, 2, 3] ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÂ§çÂà∂ÊòØÂ∞ÜÊ†à‰∏≠ÁöÑÂú∞ÂùÄËµãÂÄºÁªôÂèòÈáèÔºåÊåáÂêëÂ†Ü‰∏≠ÁöÑÂêå‰∏Ä‰∏™Á©∫Èó¥ÔºåÊâÄ‰ª•ÂΩìÊîπÂèòÂÖ∂‰∏≠‰∏Ä‰∏™Êó∂ÔºåÂÖ∂ÂÆûÊòØÊîπÂèòÂ†Ü‰∏≠ÁöÑÊï∞ÊçÆÔºåÊâÄÊúâÊåáÂêëËøô‰∏™Á©∫Èó¥ÁöÑÂèòÈáèÈÉΩ‰ºöÂèëÁîüÊîπÂèò„ÄÇ 3.Ê∑±Êã∑Ë¥ùÂíåÊµÖÊã∑Ë¥ù ‰∏äÈù¢ÁöÑ‰æãÂ≠êÂÖ∂ÂÆûÂ∞±ÊòØÊµÖÊã∑Ë¥ùÔºåÂºïÁî®Á±ªÂûãÁöÑÊï∞ÊçÆÂ§çÂà∂ÁöÑÊòØÊåáÂêëÂú∞ÂùÄ„ÄÇ Ê∑±Êã∑Ë¥ùÔºåÂ†ÜÂºÄËæü‰∏Ä‰∏™Êñ∞ÁöÑÁ©∫Èó¥Â≠òÊîæÂ§çÂà∂ÁöÑÂØπË±°„ÄÇ ÂºïÁî®Á±ªÂûãÁöÑÊµÖÊã∑Ë¥ù‰ºöÂá∫Áé∞ÂæàÂ§öÈóÆÈ¢òÔºåÈÇ£‰πà‰∏ãÈù¢Êù•ÁúãÁúãÂºïÁî®Á±ªÂûãÂ¶Ç‰ΩïÂÆûÁé∞Ê∑±Êã∑Ë¥ù„ÄÇ 4.ÂÆûÁé∞Ê∑±Êã∑Ë¥ùÁöÑÊñπÊ≥ï ÊàëÊúÄÂ∏∏Áî®ÁöÑ‰∏Ä‰∏™ÊòØÔºàÁÆÄÂçïÁ≤óÊö¥ÔºâÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñÊ≥ï 1JSON.parse(JSON.stringify(obj)) ‰ΩÜËøô‰∏™ÊñπÊ≥ïÂ≠òÂú®‰∏Ä‰∫õÈóÆÈ¢ò Ôºö Êó†Ê≥ïÂ§çÂà∂Ê≠£ÂàôË°®ËææÂºèÁ±ªÂûã„ÄÅÂáΩÊï∞Á±ªÂûã Êó†ËÆ∫ÊûÑÈÄ†Âô®ÊòØ‰ªÄ‰πàÈÉΩ‰ºöÂèòÊàê Object undefined Êó†Ê≥ïÂ§çÂà∂ Âè™ËÉΩÊ∑±Êã∑Ë¥ùÂØπË±°ÂíåÊï∞ÁªÑÂÖ∂‰ªñÁ±ªÂûã‰ºöÂ§±Áúü ‰ΩÜÂÆûÈôÖÂºÄÂèë‰∏≠Âè™ÊòØÂ§çÂà∂Êï∞ÊçÆÊòØÂ§üÁî®ÁöÑ Ëø≠‰ª£ÈÄíÂΩíÊ≥ï ÂØπÂØπË±°ËøõË°åËø≠‰ª£Êìç‰ΩúÔºåÂØπÂÆÉÁöÑÊØè‰∏™ÂÄºËøõË°åÈÄíÂΩíÊ∑±Êã∑Ë¥ù 1234567891011121314151617181920212223242526272829function deepClone(obj) &#123; let copy if (null == obj || 'object' != typeof obj) return obj // Date if (obj instanceof Date) &#123; copy = new Date() copy.setTime(obj.getTime()) return copy &#125; // Array if (obj instanceof Array) &#123; copy = [] for (var i = 0; i &lt; obj.length; i++) &#123; copy[i] = clone(obj[i]) &#125; return copy &#125; // Object if (obj instanceof Object) &#123; copy = &#123;&#125; for (var key in obj) &#123; if (obj.hasOwnProperty(key)) &#123; copy[key] = clone(obj[key]) &#125; &#125; return copy &#125; throw new Error('error')&#125; Object.assign() ES6 ÁöÑÊ∑±Êã∑Ë¥ùÊñπÊ≥ï concat ÂØπÊï∞ÁªÑËøõË°åÊ∑±Êã∑Ë¥ù Â∫îËØ•ËøòÊúâÂæàÂ§öÊñπÊ≥ï ÊàñËÄÖÊõ¥Ê∑±ÂÖ•ÁöÑÊÄùËÄÉ ÂÖ≥‰∫éÂèØÊûö‰∏æ‰∏çÂèØÊûö‰∏æËøô‰∫õÊ¶ÇÂøµÊàëËøò‰∏çÂ§™Ê∏ÖÊ•ö ÊúâÂæÖËøõÊ≠•]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ÊØèÊó•‰∏ÄÂùë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IosÁ≥ªÁªü‰∏éDateÁöÑBug]]></title>
    <url>%2F2018%2F03%2F01%2FmoveIos-1%2F</url>
    <content type="text"><![CDATA[Ëß£ÂÜ≥ÂäûÊ≥ï ÔºàËΩ¨Âåñ‰∏∫/ÂàÜÈöîÁöÑÂ∞±ÂèØ‰ª•Ôºâ iosÁ≥ªÁªü Date.parse()Ëé∑ÂèñÊó∂Èó¥Êà≥Êó∂ iosÁ≥ªÁªüÂè™ËÆ§Âæó/ÂàÜÈöîÁöÑÊó∂Èó¥ ÂÖ∂ÂÆÉ-ÂàÜÈöîÊàñËÄÖÂà´ÁöÑ iosËé∑ÂèñÁöÑÈÉΩÊòØNaN123var resData = '2017-3-14 10:03:45'; resData=resData..replace(/-/g, '/'); console.log("ËøîÂõûÊó∂Èó¥Ôºö" + resData)]]></content>
      <categories>
        <category>ÊØèÊó•‰∏ÄÂùë</category>
      </categories>
      <tags>
        <tag>ÁßªÂä®</tag>
        <tag>Ë∏©ÂùëËÆ∞</tag>
        <tag>ios</tag>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑ëVueÈ°πÁõÆÊó∂ÊúçÂä°Á™ÅÁÑ∂ÂÅúÊ≠¢(NodeÂÜÖÂ≠òÊ∫¢Âá∫)]]></title>
    <url>%2F2018%2F02%2F03%2FnodeFull%2F</url>
    <content type="text"><![CDATA[ÂÖàÊèèËø∞‰∏ãÁé∞Ë±°ÔºövueÈ°πÁõÆÂú®Ë∑ëÊó∂ÂÅ∂Â∞îÂá∫Áé∞webpack-dev-serverÊúçÂä°ÂÅúÊ≠¢,ÈúÄË¶ÅÈáçÊñ∞npm run dev. 1FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory Êä•Èîô‰ø°ÊÅØËØ¥Â†ÜÂÜÖÂ≠òÊ∫¢Âá∫ÔºàÂÖ∂ÂÆûÂ∞±ÊòØnodeÂÜÖÂ≠òÊ∫¢Âá∫Ôºâ Ëß£ÂÜ≥ÂäûÊ≥ïÔºö Â¶ÇÊûúÊòØrun devÊó∂Êä•Èîô,Âú®package.jsonÊñá‰ª∂ÈáåÁöÑscriptsÂ≠óÊÆµÁöÑ ‚Äòdev‚Äô : node ÂêéÈù¢Âä†‰∏ä ‚Äìmax_old_space_size=4096 ËøôÈáåÁöÑ4096Âçï‰ΩçÊòØM‰πüÂ∞±ÊòØ4GÔºàÂÖ∑‰ΩìÁöÑÂ§ßÂ∞èÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµËÄåÂÆöÔºâ Â¶ÇÊûúÊòØÂú®ÊâìÂåÖÊó∂ Â∞±Âú®buildÂêéÈù¢Âä†‰∏äÈù¢ÁöÑÂÜÖÂÆπ ÂéüÂõ† È¶ñÂÖàÈ°πÁõÆÂú®Ë∑ëÊó∂ÂÖ∂ÂÆûÁî®ÁöÑÊòØÁî®ÁöÑwebpack-dev-serverÂ∑•ÂÖ∑ÔºåÊòØ‰∏Ä‰∏™Â∞èÂûãÁöÑNode.js Express ÊúçÂä°Âô®„ÄÇ webpackÂú®ÊØèÊ¨°‰ª£Á†ÅÊõ¥Êîπ‰øùÂ≠òÊó∂ÈÉΩ‰ºöËøõË°åÁºñËØëÁÑ∂ÂêéÂÆûÂà∑Êñ∞È°µÈù¢ÂæóÂà∞ÊúÄÊñ∞ÁöÑÊïàÊûúÔºå‰ΩÜÂêåÊó∂‰πü‰ºöÂç†Áî®Â§ßÈáèÂÜÖÂ≠òÔºå‰πüÂ∞±ÊòØÂç†Áî®nodeÂÜÖÂ≠ò„ÄÇ nodeÊòØÂü∫‰∫éV8ÊûÑÂª∫ÁöÑÔºåV8ÂØπÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊòØÊúâÈôêÂà∂ÁöÑÔºàËÄÅ64‰ΩçÁ≥ªÁªüÁ∫¶1.4GÔºå32‰ΩçÁ∫¶0.7GÔºåÊñ∞Áîü‰ª£ÂÜÖÂ≠ò64‰ΩçÁ∫¶32MÔºå32Á≥ªÁªü‰∏ãÁ∫¶‰∏∫16MÔºâÂú®ËøôÁßçÈôêÂà∂‰∏ãÔºåÂ¶ÇÊûú‰∏çÂ∞èÂøÉËß¶Á¢∞Âà∞Ëøô‰∏™ÁïåÈôêÔºåÂ∞±‰ºöÈÄ†ÊàêËøõÁ®ãÈÄÄÂá∫„ÄÇ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ÊØèÊó•‰∏ÄÂùë</tag>
        <tag>Node</tag>
        <tag>Webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÁöÑbusÁªÑ‰ª∂ÈÄö‰ø°Êó∂Â§öÊ¨°Ëß¶ÂèëÁöÑÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F01%2F07%2FbusVue%2F</url>
    <content type="text"><![CDATA[Ëß£ÂÜ≥ÂäûÊ≥ï Âú®ÁªÑ‰ª∂‰∏≠ beforeDestoryÂë®Êúü bus.$off(‚ÄúemitÁöÑ‰∫ã‰ª∂Âêç‚Äù) ÊâãÂä®ÈîÄÊØÅ‰∫ã VueÂà©Áî®busËøõË°åÁªÑ‰ª∂ÈÄö‰ø°Êó∂ÔºåÂõ†‰∏∫busÊòØÂÖ®Â±ÄÁöÑ‰∏çÂèóÈ°µÈù¢ÁîüÂëΩÂë®ÊúüÊéßÂà∂ÔºåÊâÄ‰ª•‰ºöÂèëÁîüÂ§öÊ¨°Ëß¶ÂèëÁöÑÈóÆÈ¢ò„ÄÇÂ§ö‰∏™È°µÈù¢ÈÉΩÁî®Âà∞Âêå‰∏Ä‰∏™ÁªÑ‰ª∂ËÄåÁªÑ‰ª∂ÂèàÁî®Âà∞‰∫ÜbusÔºåÈÇ£‰πàËøô‰∏™ÁªÑ‰ª∂ÈÄöËøábus emit‰∫ÜÂ§öÂ∞ëÊ¨°Ëøô‰∏™È°µÈù¢Âú®onÊó∂Â∞±‰ºöËß¶ÂèëÂ§öÂ∞ëÊ¨°„ÄÇ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ÊØèÊó•‰∏ÄÂùë</tag>
        <tag>ÁªÑ‰ª∂ÈÄö‰ø°</tag>
        <tag>bus</tag>
      </tags>
  </entry>
</search>
